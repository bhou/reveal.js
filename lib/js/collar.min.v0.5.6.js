!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1),i=n(3);window.collar||(window.collar=r(i),window.collar.ns=function(t){var e=r(i["new"]({namespace:t}));return window.__collar__.devtool_enabled&&window.__collar__.devtool_extension(e,window.__collar__.devtool_options),e}),window.collar.enableDevtool=function(t){if(!window.__collar__.devtool_extension)return void console.error("Can NOT find collar.js-dev-client. Please make sure you included it in your app");t||(t={});var e={};for(var n in t)e[n]=t[n];return window.__collar__.devtool_enabled=!0,window.__collar__.devtool_options=e,t.run=!0,window.__collar__.devtool_extension(window.collar,t),window.collar}},function(t,e,n){"use strict";var r=n(2),i=n(35),o=n(37),u=n(39),s=n(40),a=n(42),c=n(43),f=n(45),h=n(46),l=n(47),p=n(48),v=n(49),_=n(50),y=n(51),d=n(52),g=n(53),w=n(38),m=n(44);t.exports=function(t){return t.extend({operators:{filter:c.filter,when:c.filter,actuator:f.actuator,actuatorSync:f.actuatorSync,"do":f.actuatorSync,processor:h.processor,processorSync:h.processorSync,map:h.map,sink:l.sink,errors:p.errors,throttle:v.throttle,ref:y.ref,node:d.node,atom:g.atom},sources:{asList:o.asList,just:o.just,sensor:u.sensor,variable:s.variable,model:a.model,endpoint:_.endpoint,input:_.input,output:_.output},others:{Sensor:u.Sensor,Variable:s.Variable,Model:a.Model,Filter:c.Filter,Actuator:f.Actuator,ActuatorSync:f.ActuatorSync,Processor:h.Processor,ProcessorSync:h.ProcessorSync,Signal:i,Node:r,registry:m,toNode:w.toNode}})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function h(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:h(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},a=n(3).Bouton,c=n(35),f=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._name=t.name||null,o._type="node",o._namespace=t.namespace||e.__namespace__,o._comment=t.comment,o._features=["Node"],o._inputs=t.inputs||{},o._outputs=t.outputs||{},t.todo&&o.addFeature("todo"),o}return o(e,t),u(e,[{key:"addFeature",value:function(t){return this._features.indexOf(t)<0&&this._features.push(t),this}},{key:"removeFeature",value:function(t){var e=this._features.indexOf(t);return e>=0&&this._features.splice(e,1),this}},{key:"getFeatures",value:function(){return this._features}},{key:"hasFeature",value:function(t){return this._features.indexOf(t)>=0}},{key:"onSignal",value:function(t){var e=this;return this.invokeObservers("preFilter",t),this.accept(t)?(this.invokeObservers("postFilter",t,!0),this.invokeObservers("preAct",t),this.act(t,function(n,r){if(e.invokeObservers("postAct",t,n,r),n)throw n}),this.invokeObservers("preProcess",t),this.process(t,function(n,r){if(e.invokeObservers("postProcess",t,n,r),n)throw n;e.send(r)}),this):(this.invokeObservers("postFilter",t,!1),this.request(),this)}},{key:"send",value:function(t){var n=arguments.length<=1||void 0===arguments[1]||arguments[1],r=t;return c.isSignal(t)||(r=new c(t)),n===!1&&(r=r.setTag("__non_interruptible__",!0)),s(Object.getPrototypeOf(e.prototype),"send",this).call(this,r,n)}},{key:"push",value:function(t){var n=arguments.length<=1||void 0===arguments[1]||arguments[1],r=t;return c.isSignal(t)||(r=new c(t)),n===!1&&(r=r.setTag("__non_interruptible__",!0)),s(Object.getPrototypeOf(e.prototype),"push",this).call(this,r,n)}},{key:"watch",value:function(t){}},{key:"accept",value:function(t){return!0}},{key:"act",value:function(t,e){e()}},{key:"process",value:function(t,e){e(null,t)}},{key:"onRequest",value:function(t){return this.onNext(t),this}},{key:"onNext",value:function(t){this.request(t)}},{key:"isInterruptibleSignal",value:function(t){return!t.getTag("__non_interruptible__")}},{key:"isErrorSignal",value:function(t){return c.isSignal(t)&&c.hasError(t)}},{key:"isEndSignal",value:function(t){return c.isSignal(t)&&c.isEnd(t)}},{key:"throwError",value:function(t,e){return this.send(e.setError(t))}},{key:"to",value:function(t,n){return"string"!=typeof t?n=t:n._comment=t,s(Object.getPrototypeOf(e.prototype),"to",this).call(this,n)}},{key:"name",get:function(){return this._name}},{key:"type",get:function(){return this._type}},{key:"inputs",get:function(){return this._inputs},set:function(t){var e=this;return Array.isArray(t)?t.forEach(function(t){e._inputs[t]=""}):this._inputs=t,this}},{key:"outputs",get:function(){return this._outputs},set:function(t){var e=this;return Array.isArray(t)?t.forEach(function(t){e._outputs[t]=""}):this._outputs=t,this}}]),e}(a);t.exports=f},function(t,e,n){"use strict";function r(){function t(t,e){function n(){var t=e.apply(void 0,arguments);return t.tags=this.tags,this.to(t)}return c.reserved.indexOf(t)>=0?(console.warn("can't add operator '"+t+"', name is reserved. "),c):(i.prototype[t]=n,c[t]=function(){var t=e.apply(void 0,arguments);return t.tags=c._tags,t},c)}function e(t){for(var e in t)c.addOperator(e,t[e])}function r(t,e){return c.reserved.indexOf(t)>=0?(console.warn("can't add source '"+t+"', name is reserved. "),c):(c[t]=function(){var t=e.apply(void 0,arguments);return t.tags=c._tags,t},c)}function o(t){for(var e in t)c.addSource(e,t[e]);return c}function u(){var t=n(31),e=n(32);return c.addSources(e),c.addOperators(t),c}function s(t){if("string"==typeof t&&(t=n(33)(t)),t.operators&&c.addOperators(t.operators),t.sources&&c.addSources(t.sources),t.observers)for(var e in t.observers)c.observers[e]=t.observers[e];if(t.others)for(var r in t.others)c[r]=t.others[r];return c}var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c={};return c._tags=a,c.Node=i,c.Bouton=i,c.END=i.END,c.reserved=["id","options","ee","observers","upstreams","downstreams","tags","push","onReceive","onSignal","onError","onEnd","send","observe","to","pull","onRequest","request","from","isErrorSignal","isEndSignal","throwError","invokeObservers"],c.addOperator=t,c.addOperators=e,c.addSource=r,c.addSources=o,c["default"]=u,c.observers={},c.extend=s,c}var i=n(4),o=r();o["new"]=r,t.exports=o},function(t,e,n){(function(e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(7),u=n(8),s=function(){function t(e,n){r(this,t),this.id=u.v1(),this.options=e,this.ee=n?n:new o,this.observers=[],this.upstreams={},this.downstreams={},this.tags={}}return i(t,[{key:"push",value:function(t){var n=this,r=arguments.length<=1||void 0===arguments[1]||arguments[1];return r!==!1&&this.isInterruptibleSignal(t)?(e(function(){n.onReceive(t)}),this):(this.onReceive(t),this)}},{key:"onReceive",value:function(t){if(this.invokeObservers("onReceive",t),this.isErrorSignal(t))this.onError(t),this.request();else if(this.isEndSignal(t))try{this.onEnd(t)}catch(e){this.throwError(e,t)}else try{this.onSignal(t)}catch(e){this.throwError(e,t)}return this}},{key:"onSignal",value:function(t){return this.send(t),this}},{key:"onError",value:function(t){return this.send(t),this}},{key:"onEnd",value:function(t){return this.send(t),this}},{key:"send",value:function(t){var n=this,r=arguments.length<=1||void 0===arguments[1]||arguments[1];if(this.invokeObservers("send",t),r===!1||!this.isInterruptibleSignal(t)){for(var i in this.downstreams)this.downstreams[i].onReceive(t);return this}return e(function(){n.ee.emit("outgoing-"+n.id,t)}),this}},{key:"observe",value:function(t){return this.observers.push(t),this}},{key:"to",value:function(t){var e=this;return this.invokeObservers("to",t),this.downstreams[t.id]=t,this.ee.on("outgoing-"+this.id,function(e){t.push(e)}),t.ee.on("request-"+t.id,function(t){e.pull(t)}),t.from(this),t}},{key:"pull",value:function(t){var n=this;return e(function(){n.onRequest(t)}),this}},{key:"onRequest",value:function(t){return this.invokeObservers("onRequest",t),this.request(t),this}},{key:"request",value:function(t){var n=this;return this.invokeObservers("request",t),e(function(){n.ee.emit("request-"+n.id,t)}),this}},{key:"from",value:function(t){return this.upstreams[t.id]=t,this.invokeObservers("from",t),this}},{key:"isInterruptibleSignal",value:function(t){return!0}},{key:"isErrorSignal",value:function(t){return t instanceof Error}},{key:"isEndSignal",value:function(e){return e===t.END}},{key:"throwError",value:function(t,e){return t.signal=e,this.send(t)}},{key:"invokeObservers",value:function(t){for(var e=this,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];i.unshift(t),i.unshift(this);try{this.observers.forEach(function(t){t.apply(e,i)});var u=n(3).observers;for(var s in u)u[s].apply(this,i)}catch(a){console.error(a.message)}}}]),t}();s.END="__SIGNAL_END__",t.exports=s}).call(e,n(5).setImmediate)},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(6).nextTick,u=Function.prototype.apply,s=Array.prototype.slice,a={},c=0;e.setTimeout=function(){return new i(u.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(u.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&s.call(arguments,1);return a[n]=!0,o(function(){a[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete a[t]}}).call(e,n(5).setImmediate,n(5).clearImmediate)},function(t,e){function n(){h&&c&&(h=!1,c.length?f=c.concat(f):l=-1,f.length&&r())}function r(){if(!h){var t=u.call(null,n);h=!0;for(var e=f.length;e;){for(c=f,f=[];++l<e;)c&&c[l].run();l=-1,e=f.length}c=null,h=!1,s.call(null,t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var u,s,a=t.exports={};!function(){try{u=setTimeout}catch(t){u=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var c,f=[],h=!1,l=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new i(t,e)),1!==f.length||h||u.call(null,r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){}var o=Object.prototype.hasOwnProperty,u="function"!=typeof Object.create&&"~";i.prototype._events=void 0,i.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)o.call(e,t)&&n.push(u?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(t,e){var n=u?u+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},i.prototype.emit=function(t,e,n,r,i,o){var s=u?u+t:t;if(!this._events||!this._events[s])return!1;var a,c,f=this._events[s],h=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),h){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,i),!0;case 6:return f.fn.call(f.context,e,n,r,i,o),!0}for(c=1,a=new Array(h-1);c<h;c++)a[c-1]=arguments[c];f.fn.apply(f.context,a)}else{var l,p=f.length;for(c=0;c<p;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),h){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;default:if(!a)for(l=1,a=new Array(h-1);l<h;l++)a[l-1]=arguments[l];f[c].fn.apply(f[c].context,a)}}return!0},i.prototype.on=function(t,e,n){var i=new r(e,n||this),o=u?u+t:t;return this._events||(this._events=u?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},i.prototype.once=function(t,e,n){var i=new r(e,n||this,(!0)),o=u?u+t:t;return this._events||(this._events=u?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},i.prototype.removeListener=function(t,e,n,r){var i=u?u+t:t;if(!this._events||!this._events[i])return this;var o=this._events[i],s=[];if(e)if(o.fn)(o.fn!==e||r&&!o.once||n&&o.context!==n)&&s.push(o);else for(var a=0,c=o.length;a<c;a++)(o[a].fn!==e||r&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);return s.length?this._events[i]=1===s.length?s[0]:s:delete this._events[i],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[u?u+t:t]:this._events=u?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=u,t.exports=i},function(t,e,n){var r;(function(i){!function(o){"use strict";function u(){var t=o.crypto||o.msCrypto;if(!l&&t&&t.getRandomValues)try{var e=new Uint8Array(16);_=l=function(){return t.getRandomValues(e),e},l()}catch(n){}if(!l){var r=new Array(16);p=l=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function s(){try{var t=n(13).randomBytes;v=l=t&&function(){return t(16)},l()}catch(e){}}function a(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[r+i++]=g[t])});i<16;)e[r+i++]=0;return e}function c(t,e){var n=e||0,r=d;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function f(t,e,n){var r=e&&n||0,i=e||[];t=t||{};var o=null!=t.clockseq?t.clockseq:E,u=null!=t.msecs?t.msecs:(new Date).getTime(),s=null!=t.nsecs?t.nsecs:S+1,a=u-O+(s-S)/1e4;if(a<0&&null==t.clockseq&&(o=o+1&16383),(a<0||u>O)&&null==t.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");O=u,S=s,E=o,u+=122192928e5;var f=(1e4*(268435455&u)+s)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var h=u/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=255&h,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var l=t.node||b,p=0;p<6;p++)i[r+p]=l[p];return e?e:c(i)}function h(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new y(16):null,t=null),t=t||{};var i=t.random||(t.rng||l)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;o++)e[r+o]=i[o];return e||c(i)}var l,p,v,_;o?u():s();for(var y="function"==typeof i?i:Array,d=[],g={},w=0;w<256;w++)d[w]=(w+256).toString(16).substr(1),g[d[w]]=w;var m=l(),b=[1|m[0],m[1],m[2],m[3],m[4],m[5]],E=16383&(m[6]<<8|m[7]),O=0,S=0,I=h;I.v1=f,I.v4=h,I.parse=a,I.unparse=c,I.BufferClass=y,I._rng=l,I._mathRNG=p,I._nodeRNG=v,I._whatwgRNG=_,"undefined"!=typeof t&&t.exports?t.exports=I:(r=function(){return I}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}("undefined"!=typeof window?window:null)}).call(e,n(9).Buffer)},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?u(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):a(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function u(e,n){if(e=_(e,n<0?0:0|y(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;r++)e[r]=0;return e}function s(t,e,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|g(e,n);return t=_(t,r),t.write(e,n),t}function a(e,n){if(t.isBuffer(n))return c(e,n);if($(n))return f(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return h(e,n);if(n instanceof ArrayBuffer)return l(e,n)}return n.length?p(e,n):v(e,n)}function c(t,e){var n=0|y(e.length);return t=_(t,n),e.copy(t,0,0,n),t}function f(t,e){var n=0|y(e.length);t=_(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e){var n=0|y(e.length);t=_(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function l(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=h(e,new Uint8Array(n)),e}function p(t,e){var n=0|y(e.length);t=_(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function v(t,e){var n,r=0;"Buffer"===e.type&&$(e.data)&&(n=e.data,r=0|y(n.length)),t=_(t,r);for(var i=0;i<r;i+=1)t[i]=255&n[i];return t}function _(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var r=0!==n&&n<=t.poolSize>>>1;return r&&(e.parent=X),e}function y(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(e,n){if(!(this instanceof d))return new d(e,n);var r=new t(e,n);return delete r.parent,r}function g(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return Y(t).length;e=(""+e).toLowerCase(),r=!0}}function w(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),e<0&&(e=0),n>this.length&&(n=this.length),n<=e)return"";for(;;)switch(t){case"hex":return z(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return A(this,e,n);case"binary":return P(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var u=0;u<r;u++){var s=parseInt(e.substr(2*u,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+u]=s}return u}function b(t,e,n,r){return H(Y(e,t.length-n),t,n,r)}function E(t,e,n,r){return H(K(e),t,n,r)}function O(t,e,n,r){return E(t,e,n,r)}function S(t,e,n,r){return H(W(e),t,n,r)}function I(t,e,n,r){return H(J(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?V.fromByteArray(t):V.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],u=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var a,c,f,h;switch(s){case 1:o<128&&(u=o);break;case 2:a=t[i+1],128===(192&a)&&(h=(31&o)<<6|63&a,h>127&&(u=h));break;case 3:a=t[i+1],c=t[i+2],128===(192&a)&&128===(192&c)&&(h=(15&o)<<12|(63&a)<<6|63&c,h>2047&&(h<55296||h>57343)&&(u=h));break;case 4:a=t[i+1],c=t[i+2],f=t[i+3],128===(192&a)&&128===(192&c)&&128===(192&f)&&(h=(15&o)<<18|(63&a)<<12|(63&c)<<6|63&f,h>65535&&h<1114112&&(u=h))}}null===u?(u=65533,s=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=s}return x(r)}function x(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function z(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;o++)i+=F(t[o]);return i}function D(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,n,r,i,o,u){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||n<u)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range")}function B(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function q(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(e>i||e<o)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function U(t,e,n,r,i){return i||M(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,i){return i||M(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(t,e,n,r,52,8),n+8}function C(t){if(t=N(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function N(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],u=0;u<r;u++){if(n=t.charCodeAt(u),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,r,i,o=[],u=0;u<t.length&&!((e-=2)<0);u++)n=t.charCodeAt(u),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return V.toByteArray(C(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}var V=n(10),G=n(11),$=n(12);e.Buffer=t,e.SlowBuffer=d,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var X={};t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,u=Math.min(r,i);o<u&&e[o]===n[o];)++o;return o!==u&&(r=e[o],i=n[o]),r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!$(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var u=e[r];u.copy(i,o),o+=u.length}return i},t.byteLength=g,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):w.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function r(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[r===-1?0:i-r]){if(r===-1&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(n<0&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return r(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):r(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return E(this,t,e,n);case"binary":return O(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=t._augment(this.subarray(e,n));else{var o=n-e;i=new t(o,(void 0));for(var u=0;u<o;u++)i[u]=this[u+e]}return i.length&&(i.parent=this.parent||this),i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||T(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||T(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),G.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),G.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),G.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),G.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||R(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||R(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):B(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):B(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):q(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):q(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,u=1,s=t<0?1:0;for(this[e]=255&t;++o<n&&(u*=256);)this[e+o]=(t/u>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,u=1,s=t<0?1:0;for(this[e+o]=255&t;--o>=0&&(u*=256);)this[e+o]=(t/u>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):B(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):B(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):q(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||R(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):q(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,u=i-r;if(this===e&&r<n&&n<i)for(o=u-1;o>=0;o--)e[o+n]=this[o+r];else if(u<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<u;o++)e[o+n]=this[o+r];else e._set(this.subarray(r,r+u),n);return u},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),n<e)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;r<n;r++)this[r]=t;else{var i=Y(t.toString()),o=i.length;for(r=e;r<n;r++)this[r]=i[r%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;n<r;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=Q.get,e.set=Q.set,e.write=Q.write,e.toString=Q.toString,e.toLocaleString=Q.toString,e.toJSON=Q.toJSON,e.equals=Q.equals,e.compare=Q.compare,e.indexOf=Q.indexOf,e.copy=Q.copy,e.slice=Q.slice,e.readUIntLE=Q.readUIntLE,e.readUIntBE=Q.readUIntBE,e.readUInt8=Q.readUInt8,e.readUInt16LE=Q.readUInt16LE,e.readUInt16BE=Q.readUInt16BE,e.readUInt32LE=Q.readUInt32LE,e.readUInt32BE=Q.readUInt32BE,e.readIntLE=Q.readIntLE,e.readIntBE=Q.readIntBE,e.readInt8=Q.readInt8,e.readInt16LE=Q.readInt16LE,e.readInt16BE=Q.readInt16BE,e.readInt32LE=Q.readInt32LE,e.readInt32BE=Q.readInt32BE,e.readFloatLE=Q.readFloatLE,e.readFloatBE=Q.readFloatBE,e.readDoubleLE=Q.readDoubleLE,e.readDoubleBE=Q.readDoubleBE,e.writeUInt8=Q.writeUInt8,e.writeUIntLE=Q.writeUIntLE,e.writeUIntBE=Q.writeUIntBE,e.writeUInt16LE=Q.writeUInt16LE,e.writeUInt16BE=Q.writeUInt16BE,e.writeUInt32LE=Q.writeUInt32LE,e.writeUInt32BE=Q.writeUInt32BE,e.writeIntLE=Q.writeIntLE,e.writeIntBE=Q.writeIntBE,e.writeInt8=Q.writeInt8,e.writeInt16LE=Q.writeInt16LE,e.writeInt16BE=Q.writeInt16BE,e.writeInt32LE=Q.writeInt32LE,e.writeInt32BE=Q.writeInt32BE,e.writeFloatLE=Q.writeFloatLE,e.writeFloatBE=Q.writeFloatBE,e.writeDoubleLE=Q.writeDoubleLE,e.writeDoubleBE=Q.writeDoubleBE,e.fill=Q.fill,e.inspect=Q.inspect,e.toArrayBuffer=Q.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(9).Buffer,function(){return this}())},function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===u||e===h?62:e===s||e===l?63:e<a?-1:e<a+10?e-a+26+26:e<f+26?e-f:e<c+26?e-c+26:void 0}function n(t){function n(t){c[h++]=t}var r,i,u,s,a,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;a="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,c=new o(3*t.length/4-a),u=a>0?t.length-4:t.length;var h=0;for(r=0,i=0;r<u;r+=4,i+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===a?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===a&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,u,s=t.length%3,a="";for(i=0,u=t.length-s;i<u;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],a+=n(o);switch(s){case 1:o=t[t.length-1],a+=e(o>>2),a+=e(o<<4&63),a+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],a+=e(o>>10),a+=e(o>>4&63),a+=e(o<<2&63),a+="="}return a}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,u="+".charCodeAt(0),s="/".charCodeAt(0),a="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0),h="-".charCodeAt(0),l="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}(e)},function(t,e){e.read=function(t,e,n,r,i){var o,u,s=8*i-r-1,a=(1<<s)-1,c=a>>1,f=-7,h=n?i-1:0,l=n?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+t[e+h],h+=l,f-=8);for(u=o&(1<<-f)-1,o>>=-f,f+=r;f>0;u=256*u+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===a)return u?NaN:(p?-1:1)*(1/0);u+=Math.pow(2,r),o-=c}return(p?-1:1)*u*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var u,s,a,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,v=r?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,u=f):(u=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-u))<1&&(u--,a*=2),e+=u+h>=1?l/a:l*Math.pow(2,1-h),e*a>=2&&(u++,a/=2),u+h>=f?(s=0,u=f):u+h>=1?(s=(e*a-1)*Math.pow(2,i),u+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),u=0));i>=8;t[n+p]=255&s,p+=v,s/=256,i-=8);for(u=u<<i|s,c+=i;c>0;t[n+p]=255&u,p+=v,u/=256,c-=8);t[n+p-v]|=128*_}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){function r(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function i(t,e){for(var n in t)e(t[n],n)}var o=n(14);e.createHash=n(16),e.createHmac=n(28),e.randomBytes=function(e,n){if(!n||!n.call)return new t(o(e));try{n.call(this,void 0,new t(o(e)))}catch(r){n(r)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var u=n(29)(e);e.pbkdf2=u.pbkdf2,e.pbkdf2Sync=u.pbkdf2Sync,i(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){r("sorry,",t,"is not implemented yet")}})}).call(e,n(9).Buffer)},function(t,e,n){(function(e,r){!function(){var i=("undefined"==typeof window?e:window)||{};_crypto=i.crypto||i.msCrypto||n(15),t.exports=function(t){if(_crypto.getRandomValues){var e=new r(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),n(9).Buffer)},function(t,e){},function(t,e,n){(function(e){function r(t){return function(){var n=[],r={update:function(t,r){return e.isBuffer(t)||(t=new e(t,r)),n.push(t),this},digest:function(r){var i=e.concat(n),o=t(i);return n=null,r?o.toString(r):o}};return r}}var i=n(17),o=r(n(25)),u=r(n(27));t.exports=function(t){return"md5"===t?new o:"rmd160"===t?new u:i(t)}}).call(e,n(9).Buffer)},function(t,e,n){var e=t.exports=function(t){var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n},r=n(9).Buffer,i=n(18)(r);e.sha1=n(19)(r,i),e.sha256=n(23)(r,i),e.sha512=n(24)(r,i)},function(t,e){t.exports=function(t){function e(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}return e.prototype.init=function(){this._s=0,this._len=0},e.prototype.update=function(e,n){"string"==typeof e&&(n=n||"utf8",e=new t(e,n));for(var r=this._len+=e.length,i=this._s=this._s||0,o=0,u=this._block;i<r;){for(var s=Math.min(e.length,o+this._blockSize-i%this._blockSize),a=s-o,c=0;c<a;c++)u[i%this._blockSize+c]=e[c+o];i+=a,o+=a,i%this._blockSize===0&&this._update(u)}return this._s=i,this},e.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e}},function(t,e,n){var r=n(20).inherits;t.exports=function(t,e){function n(){return v.length?v.pop().init():this instanceof n?(this._w=p,e.call(this,64,56),this._h=null,void this.init()):new n}function i(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function o(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function u(t,e){return t+e|0}function s(t,e){return t<<e|t>>>32-e}var a=0,c=4,f=8,h=12,l=16,p=new("undefined"==typeof Int32Array?Array:Int32Array)(80),v=[];return r(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,e.prototype.init.call(this),this},n.prototype._POOL=v,n.prototype._update=function(t){var e,n,r,a,c,f,h,l,p,v;e=f=this._a,n=h=this._b,r=l=this._c,a=p=this._d,c=v=this._e;for(var _=this._w,y=0;y<80;y++){var d=_[y]=y<16?t.readInt32BE(4*y):s(_[y-3]^_[y-8]^_[y-14]^_[y-16],1),g=u(u(s(e,5),i(y,n,r,a)),u(u(c,d),o(y)));c=a,a=r,r=s(n,30),n=e,e=g}this._a=u(e,f),this._b=u(n,h),this._c=u(r,l),this._d=u(a,p),this._e=u(c,v)},n.prototype._hash=function(){v.length<100&&v.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,a),e.writeInt32BE(0|this._b,c),e.writeInt32BE(0|this._c,f),e.writeInt32BE(0|this._d,h),e.writeInt32BE(0|this._e,l),e},n}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),a(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function u(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function a(t,n,r){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return w(i)||(i=a(t,i,r)),i}var o=c(t,n);if(o)return o;var u=Object.keys(n),_=s(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),I(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(k(n)){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(E(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(I(n))return f(n)}var d="",g=!1,m=["{","}"];if(v(n)&&(g=!0,m=["[","]"]),k(n)){var b=n.name?": "+n.name:"";d=" [Function"+b+"]"}if(E(n)&&(d=" "+RegExp.prototype.toString.call(n)),S(n)&&(d=" "+Date.prototype.toUTCString.call(n)),I(n)&&(d=" "+f(n)),0===u.length&&(!g||0==n.length))return m[0]+d+m[1];if(r<0)return E(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var O;return O=g?h(t,n,r,_,u):u.map(function(e){return l(t,n,r,_,e,g)}),t.seen.pop(),p(O,d,m)}function c(t,e){if(b(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):_(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i){for(var o=[],u=0,s=e.length;u<s;++u)z(e,String(u))?o.push(l(t,e,n,r,String(u),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(t,e,n,r,i,!0))}),o}function l(t,e,n,r,i,o){var u,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),z(r,i)||(u="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=y(n)?a(t,c.value,null):a(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),b(u)){if(o&&i.match(/^\d+$/))return s;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function v(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function y(t){return null===t}function d(t){return null==t}function g(t){return"number"==typeof t}function w(t){return"string"==typeof t}function m(t){return"symbol"==typeof t}function b(t){return void 0===t}function E(t){return O(t)&&"[object RegExp]"===x(t)}function O(t){return"object"==typeof t&&null!==t}function S(t){return O(t)&&"[object Date]"===x(t)}function I(t){return O(t)&&("[object Error]"===x(t)||t instanceof Error)}function k(t){return"function"==typeof t}function j(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function x(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),B[t.getMonth()],e].join(" ")}function z(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,u=String(t).replace(D,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])u+=y(s)||!O(s)?" "+s:" "+i(s);return u},e.deprecate=function(n,i){function o(){if(!u){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),u=!0}return n.apply(this,arguments)}if(b(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var u=!1;return o};var T,R={};e.debuglog=function(t){if(b(T)&&(T=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(T)){var n=r.pid;R[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else R[t]=function(){};return R[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=v,e.isBoolean=_,e.isNull=y,e.isNullOrUndefined=d,e.isNumber=g,e.isString=w,e.isSymbol=m,e.isUndefined=b,e.isRegExp=E,e.isObject=O,e.isDate=S,e.isError=I,e.isFunction=k,e.isPrimitive=j,e.isBuffer=n(21);var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=n(22),e._extend=function(t,e){if(!e||!O(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(6))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(20).inherits;t.exports=function(t,e){function n(){this.init(),this._w=p,e.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function u(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}function a(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function f(t){return i(t,7)^i(t,18)^o(t,3);
}function h(t){return i(t,17)^i(t,19)^o(t,10)}var l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);return r(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,r,i,o,p,v,_,y,d,g=this._w;e=0|this._a,n=0|this._b,r=0|this._c,i=0|this._d,o=0|this._e,p=0|this._f,v=0|this._g,_=0|this._h;for(var w=0;w<64;w++){var m=g[w]=w<16?t.readInt32BE(4*w):h(g[w-2])+g[w-7]+f(g[w-15])+g[w-16];y=_+c(o)+u(o,p,v)+l[w]+m,d=a(e)+s(e,n,r),_=v,v=p,p=o,o=i+y,i=r,r=n,n=e,e=y+d}this._a=e+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=p+this._f|0,this._g=v+this._g|0,this._h=_+this._h|0},n.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},n}},function(t,e,n){var r=n(20).inherits;t.exports=function(t,e){function n(){this.init(),this._w=a,e.call(this,128,112)}function i(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function u(t,e,n){return t&e^t&n^e&n}var s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);return r(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,r,a,c,f,h,l,p,v,_,y,d,g,w,m,b=this._w;e=0|this._a,n=0|this._b,r=0|this._c,a=0|this._d,c=0|this._e,f=0|this._f,h=0|this._g,l=0|this._h,p=0|this._al,v=0|this._bl,_=0|this._cl,y=0|this._dl,d=0|this._el,g=0|this._fl,w=0|this._gl,m=0|this._hl;for(var E=0;E<80;E++){var O,S,I=2*E;if(E<16)O=b[I]=t.readInt32BE(4*I),S=b[I+1]=t.readInt32BE(4*I+4);else{var k=b[I-30],j=b[I-30+1],x=i(k,j,1)^i(k,j,8)^k>>>7,A=i(j,k,1)^i(j,k,8)^i(j,k,7);k=b[I-4],j=b[I-4+1];var P=i(k,j,19)^i(j,k,29)^k>>>6,z=i(j,k,19)^i(k,j,29)^i(j,k,6),D=b[I-14],T=b[I-14+1],R=b[I-32],B=b[I-32+1];S=A+T,O=x+D+(S>>>0<A>>>0?1:0),S+=z,O=O+P+(S>>>0<z>>>0?1:0),S+=B,O=O+R+(S>>>0<B>>>0?1:0),b[I]=O,b[I+1]=S}var q=u(e,n,r),M=u(p,v,_),U=i(e,p,28)^i(p,e,2)^i(p,e,7),L=i(p,e,28)^i(e,p,2)^i(e,p,7),C=i(c,d,14)^i(c,d,18)^i(d,c,9),N=i(d,c,14)^i(d,c,18)^i(c,d,9),F=s[I],Y=s[I+1],K=o(c,f,h),J=o(d,g,w),W=m+N,H=l+C+(W>>>0<m>>>0?1:0);W+=J,H=H+K+(W>>>0<J>>>0?1:0),W+=Y,H=H+F+(W>>>0<Y>>>0?1:0),W+=S,H=H+O+(W>>>0<S>>>0?1:0);var V=L+M,G=U+q+(V>>>0<L>>>0?1:0);l=h,m=w,h=f,w=g,f=c,g=d,d=y+W|0,c=a+H+(d>>>0<y>>>0?1:0)|0,a=r,y=_,r=n,_=v,n=e,v=p,p=W+V|0,e=H+G+(p>>>0<W>>>0?1:0)|0}this._al=this._al+p|0,this._bl=this._bl+v|0,this._cl=this._cl+_|0,this._dl=this._dl+y|0,this._el=this._el+d|0,this._fl=this._fl+g|0,this._gl=this._gl+w|0,this._hl=this._hl+m|0,this._a=this._a+e+(this._al>>>0<p>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<v>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<_>>>0?1:0)|0,this._d=this._d+a+(this._dl>>>0<y>>>0?1:0)|0,this._e=this._e+c+(this._el>>>0<d>>>0?1:0)|0,this._f=this._f+f+(this._fl>>>0<g>>>0?1:0)|0,this._g=this._g+h+(this._gl>>>0<w>>>0?1:0)|0,this._h=this._h+l+(this._hl>>>0<m>>>0?1:0)|0},n.prototype._hash=function(){function e(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new t(64);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),e(this._g,this._gl,48),e(this._h,this._hl,56),n},n}},function(t,e,n){function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,f=271733878,h=0;h<t.length;h+=16){var l=n,p=r,v=i,_=f;n=o(n,r,i,f,t[h+0],7,-680876936),f=o(f,n,r,i,t[h+1],12,-389564586),i=o(i,f,n,r,t[h+2],17,606105819),r=o(r,i,f,n,t[h+3],22,-1044525330),n=o(n,r,i,f,t[h+4],7,-176418897),f=o(f,n,r,i,t[h+5],12,1200080426),i=o(i,f,n,r,t[h+6],17,-1473231341),r=o(r,i,f,n,t[h+7],22,-45705983),n=o(n,r,i,f,t[h+8],7,1770035416),f=o(f,n,r,i,t[h+9],12,-1958414417),i=o(i,f,n,r,t[h+10],17,-42063),r=o(r,i,f,n,t[h+11],22,-1990404162),n=o(n,r,i,f,t[h+12],7,1804603682),f=o(f,n,r,i,t[h+13],12,-40341101),i=o(i,f,n,r,t[h+14],17,-1502002290),r=o(r,i,f,n,t[h+15],22,1236535329),n=u(n,r,i,f,t[h+1],5,-165796510),f=u(f,n,r,i,t[h+6],9,-1069501632),i=u(i,f,n,r,t[h+11],14,643717713),r=u(r,i,f,n,t[h+0],20,-373897302),n=u(n,r,i,f,t[h+5],5,-701558691),f=u(f,n,r,i,t[h+10],9,38016083),i=u(i,f,n,r,t[h+15],14,-660478335),r=u(r,i,f,n,t[h+4],20,-405537848),n=u(n,r,i,f,t[h+9],5,568446438),f=u(f,n,r,i,t[h+14],9,-1019803690),i=u(i,f,n,r,t[h+3],14,-187363961),r=u(r,i,f,n,t[h+8],20,1163531501),n=u(n,r,i,f,t[h+13],5,-1444681467),f=u(f,n,r,i,t[h+2],9,-51403784),i=u(i,f,n,r,t[h+7],14,1735328473),r=u(r,i,f,n,t[h+12],20,-1926607734),n=s(n,r,i,f,t[h+5],4,-378558),f=s(f,n,r,i,t[h+8],11,-2022574463),i=s(i,f,n,r,t[h+11],16,1839030562),r=s(r,i,f,n,t[h+14],23,-35309556),n=s(n,r,i,f,t[h+1],4,-1530992060),f=s(f,n,r,i,t[h+4],11,1272893353),i=s(i,f,n,r,t[h+7],16,-155497632),r=s(r,i,f,n,t[h+10],23,-1094730640),n=s(n,r,i,f,t[h+13],4,681279174),f=s(f,n,r,i,t[h+0],11,-358537222),i=s(i,f,n,r,t[h+3],16,-722521979),r=s(r,i,f,n,t[h+6],23,76029189),n=s(n,r,i,f,t[h+9],4,-640364487),f=s(f,n,r,i,t[h+12],11,-421815835),i=s(i,f,n,r,t[h+15],16,530742520),r=s(r,i,f,n,t[h+2],23,-995338651),n=a(n,r,i,f,t[h+0],6,-198630844),f=a(f,n,r,i,t[h+7],10,1126891415),i=a(i,f,n,r,t[h+14],15,-1416354905),r=a(r,i,f,n,t[h+5],21,-57434055),n=a(n,r,i,f,t[h+12],6,1700485571),f=a(f,n,r,i,t[h+3],10,-1894986606),i=a(i,f,n,r,t[h+10],15,-1051523),r=a(r,i,f,n,t[h+1],21,-2054922799),n=a(n,r,i,f,t[h+8],6,1873313359),f=a(f,n,r,i,t[h+15],10,-30611744),i=a(i,f,n,r,t[h+6],15,-1560198380),r=a(r,i,f,n,t[h+13],21,1309151649),n=a(n,r,i,f,t[h+4],6,-145523070),f=a(f,n,r,i,t[h+11],10,-1120210379),i=a(i,f,n,r,t[h+2],15,718787259),r=a(r,i,f,n,t[h+9],21,-343485551),n=c(n,l),r=c(r,p),i=c(i,v),f=c(f,_)}return Array(n,r,i,f)}function i(t,e,n,r,i,o){return c(f(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,u,s){return i(e&n|~e&r,t,e,o,u,s)}function u(t,e,n,r,o,u,s){return i(e&r|n&~r,t,e,o,u,s)}function s(t,e,n,r,o,u,s){return i(e^n^r,t,e,o,u,s)}function a(t,e,n,r,o,u,s){return i(n^(e|~r),t,e,o,u,s)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function f(t,e){return t<<e|t>>>32-e}var h=n(26);t.exports=function(t){return h.hash(t,r,16)}},function(t,e,n){(function(e){function n(t,n){if(t.length%o!==0){var r=t.length+(o-t.length%o);t=e.concat([t,u],r)}for(var i=[],s=n?t.readInt32BE:t.readInt32LE,a=0;a<t.length;a+=o)i.push(s.call(t,a));return i}function r(t,n,r){for(var i=new e(n),o=r?i.writeInt32BE:i.writeInt32LE,u=0;u<t.length;u++)o.call(i,t[u],4*u,!0);return i}function i(t,i,o,u){e.isBuffer(t)||(t=new e(t));var a=i(n(t,u),t.length*s);return r(a,o,u)}var o=4,u=new e(o);u.fill(0);var s=8;t.exports={hash:i}}).call(e,n(9).Buffer)},function(t,e,n){(function(e){function n(t,e,n){return t^e^n}function r(t,e,n){return t&e|~t&n}function i(t,e,n){return(t|~e)^n}function o(t,e,n){return t&n|e&~n}function u(t,e,n){return t^(e|~n)}function s(t,e){return t<<e|t>>>32-e}function a(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var r=_(t),i=8*t.length,o=8*t.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var u=0;u<r.length;u+=16)d(n,r,u);for(var u=0;u<5;u++){var s=n[u];n[u]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var a=y(n);return new e(a)}t.exports=a;/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0],_=function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},y=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},d=function(t,e,a){for(var _=0;_<16;_++){var y=a+_,d=e[y];e[y]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}var g,w,m,b,E,O,S,I,k,j;O=g=t[0],S=w=t[1],I=m=t[2],k=b=t[3],j=E=t[4];for(var x,_=0;_<80;_+=1)x=g+e[a+c[_]]|0,x+=_<16?n(w,m,b)+p[0]:_<32?r(w,m,b)+p[1]:_<48?i(w,m,b)+p[2]:_<64?o(w,m,b)+p[3]:u(w,m,b)+p[4],x=0|x,x=s(x,h[_]),x=x+E|0,g=E,E=b,b=s(m,10),m=w,w=x,x=O+e[a+f[_]]|0,x+=_<16?u(S,I,k)+v[0]:_<32?o(S,I,k)+v[1]:_<48?i(S,I,k)+v[2]:_<64?r(S,I,k)+v[3]:n(S,I,k)+v[4],x=0|x,x=s(x,l[_]),x=x+j|0,O=j,j=k,k=s(I,10),I=S,S=x;x=t[1]+m+k|0,t[1]=t[2]+b+j|0,t[2]=t[3]+E+O|0,t[3]=t[4]+g+S|0,t[4]=t[0]+w+I|0,t[0]=x}}).call(e,n(9).Buffer)},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);this._opad=a,this._alg=t;var u="sha512"===t?128:64;n=this._key=e.isBuffer(n)?n:new e(n),n.length>u?n=i(t).update(n).digest():n.length<u&&(n=e.concat([n,o],u));for(var s=this._ipad=new e(u),a=this._opad=new e(u),c=0;c<u;c++)s[c]=54^n[c],a[c]=92^n[c];this._hash=i(t).update(s)}var i=n(16),o=new e(128);o.fill(0),t.exports=r,r.prototype.update=function(t,e){return this._hash.update(t,e),this},r.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)}}).call(e,n(9).Buffer)},function(t,e,n){var r=n(30);t.exports=function(t,e){e=e||{};var n=r(t);return e.pbkdf2=n.pbkdf2,e.pbkdf2Sync=n.pbkdf2Sync,e}},function(t,e,n){(function(e){t.exports=function(t){function n(t,e,n,i,o,u){if("function"==typeof o&&(u=o,o=void 0),"function"!=typeof u)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var s;try{s=r(t,e,n,i,o)}catch(a){return u(a)}u(void 0,s)})}function r(n,r,i,o,u){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0)throw new TypeError("Bad key length");u=u||"sha1",e.isBuffer(n)||(n=new e(n)),e.isBuffer(r)||(r=new e(r));var s,a,c,f=1,h=new e(o),l=new e(r.length+4);r.copy(l,0,0,r.length);for(var p=1;p<=f;p++){l.writeUInt32BE(p,r.length);var v=t.createHmac(u,n).update(l).digest();if(!s&&(s=v.length,c=new e(s),f=Math.ceil(o/s),a=o-(f-1)*s,o>(Math.pow(2,32)-1)*s))throw new TypeError("keylen exceeds maximum length");v.copy(c,0,0,s);for(var _=1;_<i;_++){v=t.createHmac(u,n).update(v).digest();for(var y=0;y<s;y++)c[y]^=v[y]}var d=(p-1)*s,g=p==f?a:s;c.copy(h,d,0,g)}return h}return{pbkdf2:n,pbkdf2Sync:r}}}).call(e,n(9).Buffer)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.fn=t,o}return o(e,t),_(e,[{key:"onSignal",value:function(t){var e=this.fn(t);this.send(e)}}]),e}(y);return new e(t)}function s(t){var e=function(e){function n(t,e){r(this,n);var o=i(this,Object.getPrototypeOf(n).call(this,t,e));return o.fn=t,o}return o(n,e),_(n,[{key:"onSignal",value:function(e){t(e)?this.send(e):this.request()}}]),n}(y);return new e(t)}function a(t,e){var n=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.memo=o.options.memo,o.iterator=o.options.iterator,o.END=!1,o}return o(e,t),_(e,[{key:"onSignal",value:function(t){this.memo=this.iterator.call(this,this.memo,t),this.request()}},{key:"onEnd",value:function(){this.send(this.memo),this.END=!0}},{key:"onRequest",value:function(t){this.END?this.send(y.END):this.request()}}]),e}(y);return new n({memo:t,iterator:e})}function c(t){var e=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.fn=t,o}return o(e,t),_(e,[{key:"onError",value:function(t){var e=this;this.fn(t,function(t){e.send(t)})}}]),e}(y);return new e(t)}function f(){var t=function(t){function e(){return r(this,e),i(this,Object.getPrototypeOf(e).apply(this,arguments))}return o(e,t),_(e,[{key:"onSignal",value:function(t){this.request()}},{key:"from",value:function(t){this.request()}}]),e}(y);return new t}function h(t){var e=(new Date).getTime(),n=function(n){function u(){return r(this,u),i(this,Object.getPrototypeOf(u).apply(this,arguments))}return o(u,n),_(u,[{key:"onSignal",value:function(n){var r=(new Date).getTime();r-t>=e&&(e=r,this.send(n))}}]),u}(y);return new n(t)}function l(t,e){var n=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.n=t.n,o.add=t.add,o}return o(e,t),_(e,[{key:"onSignal",value:function(t){this.n=this.add.call(this,this.n,t),this.send(this.n)}}]),e}(y);return new n({n:t,add:e})}function p(t){var e=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.fn=t,o}return o(e,t),_(e,[{key:"onSignal",value:function(t){this.fn(t),this.send(t)}}]),e}(y);return new e(t)}function v(t){var e=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.fn=t,o}return o(e,t),_(e,[{key:"onEnd",value:function(t){this.fn(t)}}]),e}(y);return new e(t)}var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=n(4);e.map=u,e.filter=s,e.reduce=a,e.errors=c,e.sink=f,e.throttle=h,e.scan=l,e.act=p,e.done=v},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return new f(t)}function s(t){return new h(t)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(4),f=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.source=o.options,o.index=0,o}return o(e,t),a(e,[{key:"onRequest",value:function(t){this.source.length===this.index?(this.send(c.END),this.index++):this.source.length>this.index&&(this.send(this.source[this.index]),this.index++)}}]),e}(c);e.asList=u;var h=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.value=o.options,o.visited=0,o}return o(e,t),a(e,[{key:"onRequest",value:function(t){0==this.visited?(this.send(this.value),this.visited++):1==this.visited&&(this.send(c.END),this.visited++)}}]),e}(c);e.just=s},function(t,e,n){function r(t){return n(i(t))}function i(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./Node":4,"./Node.js":4,"./index":3,"./index.js":3,"./operators":31,"./operators.js":31,"./sources":32,"./sources.js":32,"./web-entry":34,"./web-entry.js":34};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=33},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function a(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:a(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)};window.bouton=n(3)["default"](),window.bouton.fromDOMEvent=function(t,e){var n=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.event=o.options.event,o.element=o.options.element,o}return o(e,t),u(e,[{key:"to",value:function(t){var n=this;return this.element.addEventListener(this.event,function(){n.send({event:n.event,sourceId:n.element.getAttribute("id")})}),s(Object.getPrototypeOf(e.prototype),"to",this).call(this,t)}}]),e}(bouton.Node);return new n({event:e,element:t})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(8),s=n(36),a=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{mode:"active"}:arguments[1];r(this,t),this._from=[],s.Iterable.isIterable(e)?this._immutable=e:e instanceof Error?this._immutable=s.fromJS({__type__:"Signal",_seq:u.v1(),_cmd:n,_end:!1,_payload:{},_tags:{}}).set("_error",e):("number"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"undefined"!=typeof e&&null!==e||(e={__anon__:e}),this._immutable=s.fromJS({__type__:"Signal",_seq:u.v1(),_cmd:n,_error:null,_end:!1,_payload:e,_tags:{}}))}return o(t,[{key:"setFrom",value:function(t){return this._from.push(t),this}},{key:"new",value:function(e){var n=this.seq;return new t(e).setSeq(n).setTags(this.tags)}},{key:"get",value:function(t){var e=[];e="string"==typeof t?t.split("."):t,e.unshift("_payload");var n=this._immutable.getIn(e);return s.Iterable.isIterable(n)?n.toJS():n}},{key:"set",value:function(e,n){var r=[];return r="string"==typeof e?e.split("."):e,r.unshift("_payload"),new t(this._immutable.setIn(r,s.fromJS(n)))}},{key:"getAnonPayload",value:function(){return this.get("__anon__")}},{key:"setPayload",value:function(e){return"number"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"undefined"!=typeof e&&null!==e||(e={__anon__:e}),new t(this._immutable.set("_payload",s.fromJS(e)))}},{key:"getResult",value:function(){return this.get("__result__")}},{key:"setResult",value:function(t){return this.set("__result__",t)}},{key:"del",value:function(e){var n=[];return n="string"==typeof e?e.split("."):e,n.unshift("_payload"),new t(this._immutable.deleteIn(n))}},{key:"setTags",value:function(e){return new t(this._immutable.set("_tags",s.fromJS(e)))}},{key:"getTag",value:function(t){var e=this._immutable.getIn(["_tags",t]);return s.Iterable.isIterable(e)?e.toJS():e}},{key:"getCmd",value:function(t){var e=[];e="string"==typeof t?t.split("."):t?t:[],e.unshift("_cmd");var n=this._immutable.getIn(e);return s.Iterable.isIterable(n)?n.toJS():n}},{key:"setCmd",value:function(e,n){var r=[];return r="string"==typeof e?e.split("."):e,r.unshift("_cmd"),new t(this._immutable.setIn(r,n))}},{key:"delCmd",value:function(e){var n=[];return n="string"==typeof e?e.split("."):e,n.unshift("_cmd"),new t(this._immutable.deleteIn(n))}},{key:"setTag",value:function(e,n){return new t(this._immutable.setIn(["_tags",e],n))}},{key:"delTag",value:function(e){return new t(this._immutable.deleteIn(["_tags",e]))}},{key:"setSeq",value:function(e){return new t(this._immutable.set("_seq",e))}},{key:"setError",value:function(e){return new t(this._immutable.set("_error",e))}},{key:"setEnd",value:function(e){return new t(this._immutable.set("_end",e))}},{key:"hasError",value:function(){return this.error instanceof Error}},{key:"isEnd",value:function(){return!!this.end}},{key:"__type__",get:function(){return this._immutable.get("__type__")}},{key:"seq",get:function(){return this._immutable.get("_seq")}},{key:"id",get:function(){return this._immutable.get("_seq")}},{key:"payload",get:function(){var t=this._immutable.get("_payload");return s.Iterable.isIterable(t)?t.toJS():t}},{key:"anonPayload",get:function(){return this.get("__anon__")}},{key:"error",get:function(){return this._immutable.get("_error")}},{key:"end",get:function(){return this._immutable.get("_end")}},{key:"tags",get:function(){var t=this._immutable.get("_tags");return s.Iterable.isIterable(t)?t.toJS():t}},{key:"from",get:function(){return this._from}}],[{key:"isSignal",value:function(t){return"object"===("undefined"==typeof t?"undefined":i(t))&&"Signal"===t.__type__}},{key:"hasError",value:function(t){return"object"===("undefined"==typeof t?"undefined":i(t))&&t.error instanceof Error}},{key:"isEnd",value:function(t){return!("object"!==("undefined"==typeof t?"undefined":i(t))||!t.end)}},{key:"Error",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){var n=e;return"string"==typeof e&&(n=new Error(e)),new t(e)})},{key:"End",value:function(){var e=new t;return e.setEnd(!0)}}]),t}();t.exports=a},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:A(t)}function n(t){return u(t)?t:P(t)}function r(t){return s(t)?t:z(t)}function i(t){return o(t)&&!a(t)?t:D(t)}function o(t){return!(!t||!t[cn])}function u(t){return!(!t||!t[fn])}function s(t){return!(!t||!t[hn])}function a(t){return u(t)||s(t)}function c(t){return!(!t||!t[ln])}function f(t){return t.value=!1,t}function h(t){t&&(t.value=!0)}function l(){}function p(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function v(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function _(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?v(t)+e:e}function y(){return!0}function d(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function g(t,e){return m(t,e,0)}function w(t,e){return m(t,e,e)}function m(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function b(t){this.next=t}function E(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function O(){return{value:void 0,done:!0}}function S(t){return!!j(t)}function I(t){return t&&"function"==typeof t.next}function k(t){var e=j(t);return e&&e.call(t)}function j(t){var e=t&&(On&&t[On]||t[Sn]);if("function"==typeof e)return e}function x(t){return t&&"number"==typeof t.length}function A(t){return null===t||void 0===t?U():o(t)?t.toSeq():N(t)}function P(t){return null===t||void 0===t?U().toKeyedSeq():o(t)?u(t)?t.toSeq():t.fromEntrySeq():L(t)}function z(t){return null===t||void 0===t?U():o(t)?u(t)?t.entrySeq():t.toIndexedSeq():C(t)}function D(t){return(null===t||void 0===t?U():o(t)?u(t)?t.entrySeq():t:C(t)).toSetSeq()}function T(t){this._array=t,this.size=t.length}function R(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function B(t){this._iterable=t,this.size=t.length||t.size}function q(t){this._iterator=t,this._iteratorCache=[]}function M(t){return!(!t||!t[kn])}function U(){return jn||(jn=new T([]))}function L(t){var e=Array.isArray(t)?new T(t).fromEntrySeq():I(t)?new q(t).fromEntrySeq():S(t)?new B(t).fromEntrySeq():"object"==typeof t?new R(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function C(t){var e=F(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function N(t){var e=F(t)||"object"==typeof t&&new R(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function F(t){return x(t)?new T(t):I(t)?new q(t):S(t)?new B(t):void 0}function Y(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,u=0;u<=o;u++){var s=i[n?o-u:u];if(e(s[1],r?s[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(e,n)}function K(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,u=0;return new b(function(){var t=i[n?o-u:u];return u++>o?O():E(e,r?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,n)}function J(t,e){return e?W(e,t,"",{"":t}):H(t)}function W(t,e,n,r){return Array.isArray(e)?t.call(r,n,z(e).map(function(n,r){return W(t,n,r,e)})):V(e)?t.call(r,n,P(e).map(function(n,r){return W(t,n,r,e)})):e}function H(t){return Array.isArray(t)?z(t).map(H).toList():V(t)?P(t).map(H).toMap():t}function V(t){return t&&(t.constructor===Object||void 0===t.constructor)}function G(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function $(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||s(t)!==s(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!a(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var i=r.next().value;return i&&G(i[1],t)&&(n||G(i[0],e))})&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var f=t;t=e,e=f}var h=!0,l=e.__iterate(function(e,r){if(n?!t.has(e):i?!G(e,t.get(r,dn)):!G(t.get(r,dn),e))return h=!1,!1});return h&&t.size===l}function X(t,e){if(!(this instanceof X))return new X(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(xn)return xn;xn=this}}function Z(t,e){if(!t)throw new Error(e)}function Q(t,e,n){if(!(this instanceof Q))return new Q(t,e,n);if(Z(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(An)return An;An=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return it(n)}if("string"===e)return t.length>Mn?ut(t):st(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return at(t);if("function"==typeof t.toString)return st(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function ut(t){var e=Cn[t];return void 0===e&&(e=st(t),Ln===Un&&(Ln=0,Cn={}),Ln++,Cn[t]=e),e}function st(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return it(e)}function at(t){var e;if(Rn&&(e=Pn.get(t),void 0!==e))return e;if(e=t[qn],void 0!==e)return e;if(!Tn){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[qn],void 0!==e)return e;if(e=ct(t),void 0!==e)return e}if(e=++Bn,1073741824&Bn&&(Bn=0),Rn)Pn.set(t,e);else{if(void 0!==Dn&&Dn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Tn)Object.defineProperty(t,qn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[qn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[qn]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ft(t){Z(t!==1/0,"Cannot perform this action with an infinite size.")}function ht(t){return null===t||void 0===t?Et():lt(t)&&!c(t)?t:Et().withMutations(function(e){var r=n(t);ft(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function lt(t){return!(!t||!t[Nn])}function pt(t,e){this.ownerID=t,this.entries=e}function vt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function _t(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function yt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function dt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function gt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&mt(t._root)}function wt(t,e){return E(t,e[0],e[1])}function mt(t,e){return{node:t,index:0,__prev:e}}function bt(t,e,n,r){var i=Object.create(Fn);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Et(){return Yn||(Yn=bt(0))}function Ot(t,e,n){var r,i;if(t._root){var o=f(gn),u=f(wn);if(r=St(t._root,t.__ownerID,0,void 0,e,n,o,u),!u.value)return t;i=t.size+(o.value?n===dn?-1:1:0)}else{if(n===dn)return t;i=1,r=new pt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?bt(i,r):Et()}function St(t,e,n,r,i,o,u,s){return t?t.update(e,n,r,i,o,u,s):o===dn?t:(h(s),h(u),new dt(e,r,[i,o]))}function It(t){return t.constructor===dt||t.constructor===yt}function kt(t,e,n,r,i){if(t.keyHash===r)return new yt(e,r,[t.entry,i]);var o,u=(0===n?t.keyHash:t.keyHash>>>n)&yn,s=(0===n?r:r>>>n)&yn,a=u===s?[kt(t,e,n+vn,r,i)]:(o=new dt(e,r,i),u<s?[t,o]:[o,t]);return new vt(e,1<<u|1<<s,a)}function jt(t,e,n,r){t||(t=new l);for(var i=new dt(t,ot(n),[n,r]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}function xt(t,e,n,r){for(var i=0,o=0,u=new Array(n),s=0,a=1,c=e.length;s<c;s++,a<<=1){var f=e[s];void 0!==f&&s!==r&&(i|=a,u[o++]=f)}return new vt(t,i,u)}function At(t,e,n,r,i){for(var o=0,u=new Array(_n),s=0;0!==n;s++,n>>>=1)u[s]=1&n?e[o++]:void 0;return u[r]=i,new _t(t,o+1,u)}function Pt(t,e,r){for(var i=[],u=0;u<r.length;u++){var s=r[u],a=n(s);o(s)||(a=a.map(function(t){return J(t)})),i.push(a)}return Tt(t,e,i)}function zt(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):G(t,e)?t:e}function Dt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return G(e,i)?e:i}}function Tt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,dn,function(t){return t===dn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)}):t.constructor(n[0])}function Rt(t,e,n,r){var i=t===dn,o=e.next();if(o.done){var u=i?n:t,s=r(u);return s===u?t:s}Z(i||t&&t.set,"invalid keyPath");var a=o.value,c=i?dn:t.get(a,dn),f=Rt(c,e,n,r);return f===c?t:f===dn?t.remove(a):(i?Et():t).set(a,f)}function Bt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function qt(t,e,n,r){var i=r?t:p(t);return i[e]=n,i}function Mt(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),u=0,s=0;s<i;s++)s===e?(o[s]=n,u=-1):o[s]=t[s+u];return o}function Ut(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,u=0;u<r;u++)u===e&&(o=1),i[u]=t[u+o];return i}function Lt(t){var e=Kt();if(null===t||void 0===t)return e;if(Ct(t))return t;var n=r(t),i=n.size;return 0===i?e:(ft(i),i>0&&i<_n?Yt(0,i,vn,null,new Nt(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function Ct(t){return!(!t||!t[Hn])}function Nt(t,e){this.array=t,this.ownerID=e}function Ft(t,e){function n(t,e,n){return 0===e?r(t,n):i(t,e,n)}function r(t,n){var r=n===s?a&&a.array:t&&t.array,i=n>o?0:o-n,c=u-n;return c>_n&&(c=_n),function(){if(i===c)return $n;var t=e?--c:i++;return r&&r[t]}}function i(t,r,i){var s,a=t&&t.array,c=i>o?0:o-i>>r,f=(u-i>>r)+1;return f>_n&&(f=_n),function(){for(;;){if(s){var t=s();if(t!==$n)return t;s=null}if(c===f)return $n;var o=e?--f:c++;s=n(a&&a[o],r-vn,i+(o<<r))}}}var o=t._origin,u=t._capacity,s=Xt(u),a=t._tail;return n(t._root,t._level,0)}function Yt(t,e,n,r,i,o,u){var s=Object.create(Vn);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function Kt(){return Gn||(Gn=Yt(0,0,vn))}function Jt(t,e,n){if(e=_(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Gt(t,e).set(0,n):Gt(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,i=t._root,o=f(wn);return e>=Xt(t._capacity)?r=Wt(r,t.__ownerID,0,e,n,o):i=Wt(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Yt(t._origin,t._capacity,t._level,i,r):t}function Wt(t,e,n,r,i,o){var u=r>>>n&yn,s=t&&u<t.array.length;if(!s&&void 0===i)return t;var a;if(n>0){var c=t&&t.array[u],f=Wt(c,e,n-vn,r,i,o);return f===c?t:(a=Ht(t,e),a.array[u]=f,a)}return s&&t.array[u]===i?t:(h(o),a=Ht(t,e),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function Ht(t,e){return e&&t&&e===t.ownerID?t:new Nt(t?t.array.slice():[],e)}function Vt(t,e){if(e>=Xt(t._capacity))return t._tail;if(e<1<<t._level+vn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&yn],r-=vn;return n}}function Gt(t,e,n){void 0!==e&&(e=0|e),void 0!==n&&(n=0|n);var r=t.__ownerID||new l,i=t._origin,o=t._capacity,u=i+e,s=void 0===n?o:n<0?o+n:i+n;if(u===i&&s===o)return t;if(u>=s)return t.clear();for(var a=t._level,c=t._root,f=0;u+f<0;)c=new Nt(c&&c.array.length?[void 0,c]:[],r),a+=vn,f+=1<<a;f&&(u+=f,i+=f,s+=f,o+=f);for(var h=Xt(o),p=Xt(s);p>=1<<a+vn;)c=new Nt(c&&c.array.length?[c]:[],r),a+=vn;var v=t._tail,_=p<h?Vt(t,s-1):p>h?new Nt([],r):v;if(v&&p>h&&u<o&&v.array.length){c=Ht(c,r);for(var y=c,d=a;d>vn;d-=vn){var g=h>>>d&yn;y=y.array[g]=Ht(y.array[g],r)}y.array[h>>>vn&yn]=v}if(s<o&&(_=_&&_.removeAfter(r,0,s)),u>=p)u-=p,s-=p,a=vn,c=null,_=_&&_.removeBefore(r,0,u);else if(u>i||p<h){for(f=0;c;){var w=u>>>a&yn;if(w!==p>>>a&yn)break;w&&(f+=(1<<a)*w),a-=vn,c=c.array[w]}c&&u>i&&(c=c.removeBefore(r,a,u-f)),c&&p<h&&(c=c.removeAfter(r,a,p-f)),f&&(u-=f,s-=f)}return t.__ownerID?(t.size=s-u,t._origin=u,t._capacity=s,t._level=a,t._root=c,t._tail=_,t.__hash=void 0,t.__altered=!0,t):Yt(u,s,a,c,_)}function $t(t,e,n){for(var i=[],u=0,s=0;s<n.length;s++){var a=n[s],c=r(a);c.size>u&&(u=c.size),o(a)||(c=c.map(function(t){return J(t)})),i.push(c)}return u>t.size&&(t=t.setSize(u)),Tt(t,e,i)}function Xt(t){return t<_n?0:t-1>>>vn<<vn}function Zt(t){return null===t||void 0===t?ee():Qt(t)?t:ee().withMutations(function(e){var r=n(t);ft(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Qt(t){return lt(t)&&c(t)}function te(t,e,n,r){var i=Object.create(Zt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function ee(){return Xn||(Xn=te(Et(),Kt()))}function ne(t,e,n){var r,i,o=t._map,u=t._list,s=o.get(e),a=void 0!==s;if(n===dn){if(!a)return t;u.size>=_n&&u.size>=2*o.size?(i=u.filter(function(t,e){return void 0!==t&&s!==e}),r=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===u.size-1?u.pop():u.set(s,void 0))}else if(a){if(n===u.get(s)[1])return t;r=o,i=u.set(s,[e,n])}else r=o.set(e,u.size),i=u.set(u.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):te(r,i)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ue(t){this._iter=t,this.size=t.size}function se(t){var e=xe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ae,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return e(n,t,r)!==!1},n)},e.__iteratorUncached=function(e,n){if(e===En){var r=t.__iterator(e,n);return new b(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===bn?mn:bn,n)},e}function ae(t,e,n){var r=xe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,dn);return o===dn?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate(function(t,i,u){return r(e.call(n,t,i,u),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(En,i);return new b(function(){var i=o.next();if(i.done)return i;var u=i.value,s=u[0];return E(r,s,e.call(n,u[1],s,t),i)})},r}function ce(t,e){var n=xe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=se(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ae,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function fe(t,e,n,r){var i=xe(t);return r&&(i.has=function(r){var i=t.get(r,dn);return i!==dn&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,dn);return o!==dn&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,s=0;return t.__iterate(function(t,o,a){if(e.call(n,t,o,a))return s++,i(t,r?o:s-1,u)},o),s},i.__iteratorUncached=function(i,o){var u=t.__iterator(En,o),s=0;return new b(function(){for(;;){var o=u.next();if(o.done)return o;var a=o.value,c=a[0],f=a[1];if(e.call(n,f,c,t))return E(i,r?c:s++,f,o)}})},i}function he(t,e,n){var r=ht().asMutable();return t.__iterate(function(i,o){r.update(e.call(n,i,o,t),0,function(t){return t+1})}),r.asImmutable()}function le(t,e,n){var r=u(t),i=(c(t)?Zt():ht()).asMutable();t.__iterate(function(o,u){i.update(e.call(n,o,u,t),function(t){return t=t||[],t.push(r?[u,o]:o),t})});var o=je(t);return i.map(function(e){return Se(t,o(e))})}function pe(t,e,n,r){var i=t.size;if(void 0!==e&&(e=0|e),
void 0!==n&&(n=n===1/0?i:0|n),d(e,n,i))return t;var o=g(e,i),u=w(n,i);if(o!==o||u!==u)return pe(t.toSeq().cacheResult(),e,n,r);var s,a=u-o;a===a&&(s=a<0?0:a);var c=xe(t);return c.size=0===s?s:t.size&&s||void 0,!r&&M(t)&&s>=0&&(c.get=function(e,n){return e=_(this,e),e>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var u=0,a=!0,c=0;return t.__iterate(function(t,n){if(!a||!(a=u++<o))return c++,e(t,r?n:c-1,i)!==!1&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),u=0,a=0;return new b(function(){for(;u++<o;)i.next();if(++a>s)return O();var t=i.next();return r||e===bn?t:e===mn?E(e,a-1,void 0,t):E(e,a-1,t.value[1],t)})},c}function ve(t,e,n){var r=xe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var u=0;return t.__iterate(function(t,i,s){return e.call(n,t,i,s)&&++u&&r(t,i,o)}),u},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var u=t.__iterator(En,i),s=!0;return new b(function(){if(!s)return O();var t=u.next();if(t.done)return t;var i=t.value,a=i[0],c=i[1];return e.call(n,c,a,o)?r===En?t:E(r,a,c,t):(s=!1,O())})},r}function _e(t,e,n,r){var i=xe(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,a=0;return t.__iterate(function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return a++,i(t,r?o:a-1,u)}),a},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(En,o),a=!0,c=0;return new b(function(){var t,o,f;do{if(t=s.next(),t.done)return r||i===bn?t:i===mn?E(i,c++,void 0,t):E(i,c++,t.value[1],t);var h=t.value;o=h[0],f=h[1],a&&(a=e.call(n,f,o,u))}while(a);return i===En?t:E(i,o,f,t)})},i}function ye(t,e){var r=u(t),i=[t].concat(e).map(function(t){return o(t)?r&&(t=n(t)):t=r?L(t):C(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var a=i[0];if(a===t||r&&u(a)||s(t)&&s(a))return a}var c=new T(i);return r?c=c.toKeyedSeq():s(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function de(t,e,n){var r=xe(t);return r.__iterateUncached=function(r,i){function u(t,c){var f=this;t.__iterate(function(t,i){return(!e||c<e)&&o(t)?u(t,c+1):r(t,n?i:s++,f)===!1&&(a=!0),!a},i)}var s=0,a=!1;return u(t,0),s},r.__iteratorUncached=function(r,i){var u=t.__iterator(r,i),s=[],a=0;return new b(function(){for(;u;){var t=u.next();if(t.done===!1){var c=t.value;if(r===En&&(c=c[1]),e&&!(s.length<e)||!o(c))return n?t:E(r,a++,c,t);s.push(u),u=c.__iterator(r,i)}else u=s.pop()}return O()})},r}function ge(t,e,n){var r=je(t);return t.toSeq().map(function(i,o){return r(e.call(n,i,o,t))}).flatten(!0)}function we(t,e){var n=xe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate(function(t,r){return(!o||n(e,o++,i)!==!1)&&n(t,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(bn,r),u=0;return new b(function(){return(!i||u%2)&&(i=o.next(),i.done)?i:u%2?E(n,u++,e):E(n,u++,i.value,i)})},n}function me(t,e,n){e||(e=Pe);var r=u(t),i=0,o=t.toSeq().map(function(e,r){return[r,e,i++,n?n(e,r,t):e]}).toArray();return o.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?P(o):s(t)?z(o):D(o)}function be(t,e,n){if(e||(e=Pe),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Ee(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Ee(e,t,n)?n:t})}function Ee(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Oe(t,n,r){var i=xe(t);return i.size=new T(r).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(bn,e),i=0;!(n=r.next()).done&&t(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=r.map(function(t){return t=e(t),k(i?t.reverse():t)}),u=0,s=!1;return new b(function(){var e;return s||(e=o.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?O():E(t,u++,n.apply(null,e.map(function(t){return t.value})))})},i}function Se(t,e){return M(t)?e:t.constructor(e)}function Ie(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ke(t){return ft(t.size),v(t)}function je(t){return u(t)?n:s(t)?r:i}function xe(t){return Object.create((u(t)?P:s(t)?z:D).prototype)}function Ae(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):A.prototype.cacheResult.call(this)}function Pe(t,e){return t>e?1:t<e?-1:0}function ze(t){var n=k(t);if(!n){if(!x(t))throw new TypeError("Expected iterable or array-like: "+t);n=k(e(t))}return n}function De(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var u=Object.keys(t);Be(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=ht(o)},i=r.prototype=Object.create(Zn);return i.constructor=r,r}function Te(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Re(t){return t._name||t.constructor.name||"Record"}function Be(t,e){try{e.forEach(qe.bind(void 0,t))}catch(n){}}function qe(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Z(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Me(t){return null===t||void 0===t?Ne():Ue(t)&&!c(t)?t:Ne().withMutations(function(e){var n=i(t);ft(n.size),n.forEach(function(t){return e.add(t)})})}function Ue(t){return!(!t||!t[Qn])}function Le(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Ce(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Ne(){return er||(er=Ce(Et()))}function Fe(t){return null===t||void 0===t?Je():Ye(t)?t:Je().withMutations(function(e){var n=i(t);ft(n.size),n.forEach(function(t){return e.add(t)})})}function Ye(t){return Ue(t)&&c(t)}function Ke(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Je(){return rr||(rr=Ke(ee()))}function We(t){return null===t||void 0===t?Ge():He(t)?t:Ge().unshiftAll(t)}function He(t){return!(!t||!t[ir])}function Ve(t,e,n,r){var i=Object.create(or);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ge(){return ur||(ur=Ve(0))}function $e(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Xe(t,e){return e}function Ze(t,e){return[e,t]}function Qe(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):String(t)}function nn(){return p(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=u(t),r=e?1:0,i=t.__iterate(n?e?function(t,e){r=31*r+sn(ot(t),ot(e))|0}:function(t,e){r=r+sn(ot(t),ot(e))|0}:e?function(t){r=31*r+ot(t)|0}:function(t){r=r+ot(t)|0});return un(i,r)}function un(t,e){return e=zn(e,3432918353),e=zn(e<<15|e>>>-15,461845907),e=zn(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=zn(e^e>>>16,2246822507),e=zn(e^e>>>13,3266489909),e=it(e^e>>>16)}function sn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var an=Array.prototype.slice;t(n,e),t(r,e),t(i,e),e.isIterable=o,e.isKeyed=u,e.isIndexed=s,e.isAssociative=a,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",fn="@@__IMMUTABLE_KEYED__@@",hn="@@__IMMUTABLE_INDEXED__@@",ln="@@__IMMUTABLE_ORDERED__@@",pn="delete",vn=5,_n=1<<vn,yn=_n-1,dn={},gn={value:!1},wn={value:!1},mn=0,bn=1,En=2,On="function"==typeof Symbol&&Symbol.iterator,Sn="@@iterator",In=On||Sn;b.prototype.toString=function(){return"[Iterator]"},b.KEYS=mn,b.VALUES=bn,b.ENTRIES=En,b.prototype.inspect=b.prototype.toSource=function(){return this.toString()},b.prototype[In]=function(){return this},t(A,e),A.of=function(){return A(arguments)},A.prototype.toSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq {","}")},A.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},A.prototype.__iterate=function(t,e){return Y(this,t,e,!0)},A.prototype.__iterator=function(t,e){return K(this,t,e,!0)},t(P,A),P.prototype.toKeyedSeq=function(){return this},t(z,A),z.of=function(){return z(arguments)},z.prototype.toIndexedSeq=function(){return this},z.prototype.toString=function(){return this.__toString("Seq [","]")},z.prototype.__iterate=function(t,e){return Y(this,t,e,!1)},z.prototype.__iterator=function(t,e){return K(this,t,e,!1)},t(D,A),D.of=function(){return D(arguments)},D.prototype.toSetSeq=function(){return this},A.isSeq=M,A.Keyed=P,A.Set=D,A.Indexed=z;var kn="@@__IMMUTABLE_SEQ__@@";A.prototype[kn]=!0,t(T,z),T.prototype.get=function(t,e){return this.has(t)?this._array[_(this,t)]:e},T.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(t(n[e?r-i:i],i,this)===!1)return i+1;return i},T.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new b(function(){return i>r?O():E(t,i,n[e?r-i++:i++])})},t(R,P),R.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},R.prototype.has=function(t){return this._object.hasOwnProperty(t)},R.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var u=r[e?i-o:o];if(t(n[u],u,this)===!1)return o+1}return o},R.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new b(function(){var u=r[e?i-o:o];return o++>i?O():E(t,u,n[u])})},R.prototype[ln]=!0,t(B,z),B.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=k(n),i=0;if(I(r))for(var o;!(o=r.next()).done&&t(o.value,i++,this)!==!1;);return i},B.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=k(n);if(!I(r))return new b(O);var i=0;return new b(function(){var e=r.next();return e.done?e:E(t,i++,e.value)})},t(q,z),q.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(t(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var u=o.value;if(r[i]=u,t(u,i++,this)===!1)break}return i},q.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new b(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return E(t,i,r[i++])})};var jn;t(X,z),X.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},X.prototype.get=function(t,e){return this.has(t)?this._value:e},X.prototype.includes=function(t){return G(this._value,t)},X.prototype.slice=function(t,e){var n=this.size;return d(t,e,n)?this:new X(this._value,w(e,n)-g(t,n))},X.prototype.reverse=function(){return this},X.prototype.indexOf=function(t){return G(this._value,t)?0:-1},X.prototype.lastIndexOf=function(t){return G(this._value,t)?this.size:-1},X.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(t(this._value,n,this)===!1)return n+1;return n},X.prototype.__iterator=function(t,e){var n=this,r=0;return new b(function(){return r<n.size?E(t,r++,n._value):O()})},X.prototype.equals=function(t){return t instanceof X?G(this._value,t._value):$(t)};var xn;t(Q,z),Q.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Q.prototype.get=function(t,e){return this.has(t)?this._start+_(this,t)*this._step:e},Q.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Q.prototype.slice=function(t,e){return d(t,e,this.size)?this:(t=g(t,this.size),e=w(e,this.size),e<=t?new Q(0,0):new Q(this.get(t,this._end),this.get(e,this._end),this._step))},Q.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Q.prototype.lastIndexOf=function(t){return this.indexOf(t)},Q.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(t(i,o,this)===!1)return o+1;i+=e?-r:r}return o},Q.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new b(function(){var u=i;return i+=e?-r:r,o>n?O():E(t,o++,u)})},Q.prototype.equals=function(t){return t instanceof Q?this._start===t._start&&this._end===t._end&&this._step===t._step:$(this,t)};var An;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Pn,zn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(t,e){t=0|t,e=0|e;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},Dn=Object.isExtensible,Tn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Rn="function"==typeof WeakMap;Rn&&(Pn=new WeakMap);var Bn=0,qn="__immutablehash__";"function"==typeof Symbol&&(qn=Symbol(qn));var Mn=16,Un=255,Ln=0,Cn={};t(ht,et),ht.of=function(){var t=an.call(arguments,0);return Et().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},ht.prototype.toString=function(){return this.__toString("Map {","}")},ht.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ht.prototype.set=function(t,e){return Ot(this,t,e)},ht.prototype.setIn=function(t,e){return this.updateIn(t,dn,function(){return e})},ht.prototype.remove=function(t){return Ot(this,t,dn)},ht.prototype.deleteIn=function(t){return this.updateIn(t,function(){return dn})},ht.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ht.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=Rt(this,ze(t),e,n);return r===dn?void 0:r},ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Et()},ht.prototype.merge=function(){return Pt(this,void 0,arguments)},ht.prototype.mergeWith=function(t){var e=an.call(arguments,1);return Pt(this,t,e)},ht.prototype.mergeIn=function(t){var e=an.call(arguments,1);return this.updateIn(t,Et(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ht.prototype.mergeDeep=function(){return Pt(this,zt,arguments)},ht.prototype.mergeDeepWith=function(t){var e=an.call(arguments,1);return Pt(this,Dt(t),e)},ht.prototype.mergeDeepIn=function(t){var e=an.call(arguments,1);return this.updateIn(t,Et(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ht.prototype.sort=function(t){return Zt(me(this,t))},ht.prototype.sortBy=function(t,e){return Zt(me(this,e,t))},ht.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ht.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l)},ht.prototype.asImmutable=function(){return this.__ensureOwner()},ht.prototype.wasAltered=function(){return this.__altered},ht.prototype.__iterator=function(t,e){return new gt(this,t,e)},ht.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ht.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?bt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ht.isMap=lt;var Nn="@@__IMMUTABLE_MAP__@@",Fn=ht.prototype;Fn[Nn]=!0,Fn[pn]=Fn.remove,Fn.removeIn=Fn.deleteIn,pt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(G(n,i[o][0]))return i[o][1];return r},pt.prototype.update=function(t,e,n,r,i,o,u){for(var s=i===dn,a=this.entries,c=0,f=a.length;c<f&&!G(r,a[c][0]);c++);var l=c<f;if(l?a[c][1]===i:s)return this;if(h(u),(s||!l)&&h(o),!s||1!==a.length){if(!l&&!s&&a.length>=Kn)return jt(t,a,r,i);var v=t&&t===this.ownerID,_=v?a:p(a);return l?s?c===f-1?_.pop():_[c]=_.pop():_[c]=[r,i]:_.push([r,i]),v?(this.entries=_,this):new pt(t,_)}},vt.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=1<<((0===t?e:e>>>t)&yn),o=this.bitmap;return 0===(o&i)?r:this.nodes[Bt(o&i-1)].get(t+vn,e,n,r)},vt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&yn,a=1<<s,c=this.bitmap,f=0!==(c&a);if(!f&&i===dn)return this;var h=Bt(c&a-1),l=this.nodes,p=f?l[h]:void 0,v=St(p,t,e+vn,n,r,i,o,u);if(v===p)return this;if(!f&&v&&l.length>=Jn)return At(t,l,c,s,v);if(f&&!v&&2===l.length&&It(l[1^h]))return l[1^h];if(f&&v&&1===l.length&&It(v))return v;var _=t&&t===this.ownerID,y=f?v?c:c^a:c|a,d=f?v?qt(l,h,v,_):Ut(l,h,_):Mt(l,h,v,_);return _?(this.bitmap=y,this.nodes=d,this):new vt(t,y,d)},_t.prototype.get=function(t,e,n,r){void 0===e&&(e=ot(n));var i=(0===t?e:e>>>t)&yn,o=this.nodes[i];return o?o.get(t+vn,e,n,r):r},_t.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var s=(0===e?n:n>>>e)&yn,a=i===dn,c=this.nodes,f=c[s];if(a&&!f)return this;var h=St(f,t,e+vn,n,r,i,o,u);if(h===f)return this;var l=this.count;if(f){if(!h&&(l--,l<Wn))return xt(t,c,l,s)}else l++;var p=t&&t===this.ownerID,v=qt(c,s,h,p);return p?(this.count=l,this.nodes=v,this):new _t(t,l,v)},yt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(G(n,i[o][0]))return i[o][1];return r},yt.prototype.update=function(t,e,n,r,i,o,u){void 0===n&&(n=ot(r));var s=i===dn;if(n!==this.keyHash)return s?this:(h(u),h(o),kt(this,t,e,n,[r,i]));for(var a=this.entries,c=0,f=a.length;c<f&&!G(r,a[c][0]);c++);var l=c<f;if(l?a[c][1]===i:s)return this;if(h(u),(s||!l)&&h(o),s&&2===f)return new dt(t,this.keyHash,a[1^c]);var v=t&&t===this.ownerID,_=v?a:p(a);return l?s?c===f-1?_.pop():_[c]=_.pop():_[c]=[r,i]:_.push([r,i]),v?(this.entries=_,this):new yt(t,this.keyHash,_)},dt.prototype.get=function(t,e,n,r){return G(n,this.entry[0])?this.entry[1]:r},dt.prototype.update=function(t,e,n,r,i,o,u){var s=i===dn,a=G(r,this.entry[0]);return(a?i===this.entry[1]:s)?this:(h(u),s?void h(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new dt(t,this.keyHash,[r,i]):(h(o),kt(this,t,e,ot(r),[r,i])))},pt.prototype.iterate=yt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(t(n[e?i-r:r])===!1)return!1},vt.prototype.iterate=_t.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&o.iterate(t,e)===!1)return!1}},dt.prototype.iterate=function(t,e){return t(this.entry)},t(gt,b),gt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return wt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return wt(t,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return wt(t,o.entry);e=this._stack=mt(o,e)}continue}e=this._stack=this._stack.__prev}return O()};var Yn,Kn=_n/4,Jn=_n/2,Wn=_n/4;t(Lt,nt),Lt.of=function(){return this(arguments)},Lt.prototype.toString=function(){return this.__toString("List [","]")},Lt.prototype.get=function(t,e){if(t=_(this,t),t>=0&&t<this.size){t+=this._origin;var n=Vt(this,t);return n&&n.array[t&yn]}return e},Lt.prototype.set=function(t,e){return Jt(this,t,e)},Lt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Lt.prototype.insert=function(t,e){return this.splice(t,0,e)},Lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=vn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Kt()},Lt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Gt(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Lt.prototype.pop=function(){return Gt(this,0,-1)},Lt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Gt(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Lt.prototype.shift=function(){return Gt(this,1)},Lt.prototype.merge=function(){return $t(this,void 0,arguments)},Lt.prototype.mergeWith=function(t){var e=an.call(arguments,1);return $t(this,t,e)},Lt.prototype.mergeDeep=function(){return $t(this,zt,arguments)},Lt.prototype.mergeDeepWith=function(t){var e=an.call(arguments,1);return $t(this,Dt(t),e)},Lt.prototype.setSize=function(t){return Gt(this,0,t)},Lt.prototype.slice=function(t,e){var n=this.size;return d(t,e,n)?this:Gt(this,g(t,n),w(e,n))},Lt.prototype.__iterator=function(t,e){var n=0,r=Ft(this,e);return new b(function(){var e=r();return e===$n?O():E(t,n++,e)})},Lt.prototype.__iterate=function(t,e){for(var n,r=0,i=Ft(this,e);(n=i())!==$n&&t(n,r++,this)!==!1;);return r},Lt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Yt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Lt.isList=Ct;var Hn="@@__IMMUTABLE_LIST__@@",Vn=Lt.prototype;Vn[Hn]=!0,Vn[pn]=Vn.remove,Vn.setIn=Fn.setIn,Vn.deleteIn=Vn.removeIn=Fn.removeIn,Vn.update=Fn.update,Vn.updateIn=Fn.updateIn,Vn.mergeIn=Fn.mergeIn,Vn.mergeDeepIn=Fn.mergeDeepIn,Vn.withMutations=Fn.withMutations,Vn.asMutable=Fn.asMutable,Vn.asImmutable=Fn.asImmutable,Vn.wasAltered=Fn.wasAltered,Nt.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&yn;if(r>=this.array.length)return new Nt([],t);var i,o=0===r;if(e>0){var u=this.array[r];if(i=u&&u.removeBefore(t,e-vn,n),i===u&&o)return this}if(o&&!i)return this;var s=Ht(this,t);if(!o)for(var a=0;a<r;a++)s.array[a]=void 0;return i&&(s.array[r]=i),s},Nt.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&yn;if(r>=this.array.length)return this;var i;if(e>0){var o=this.array[r];if(i=o&&o.removeAfter(t,e-vn,n),i===o&&r===this.array.length-1)return this}var u=Ht(this,t);return u.array.splice(r+1),i&&(u.array[r]=i),u};var Gn,$n={};t(Zt,ht),Zt.of=function(){return this(arguments)},Zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Zt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Zt.prototype.set=function(t,e){return ne(this,t,e)},Zt.prototype.remove=function(t){return ne(this,t,dn)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Zt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Zt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Zt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Zt.isOrderedMap=Qt,Zt.prototype[ln]=!0,Zt.prototype[pn]=Zt.prototype.remove;var Xn;t(re,P),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=ae(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?ke(this):0,function(i){return t(i,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(bn,e),r=e?ke(this):0;return new b(function(){var i=n.next();return i.done?i:E(t,e?--r:r++,i.value,i)})},re.prototype[ln]=!0,t(ie,z),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(bn,e),r=0;return new b(function(){var e=n.next();return e.done?e:E(t,r++,e.value,e)})},t(oe,D),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(bn,e);return new b(function(){var e=n.next();return e.done?e:E(t,e.value,e.value,e)})},t(ue,P),ue.prototype.entrySeq=function(){return this._iter.toSeq()},ue.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ie(e);var r=o(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},ue.prototype.__iterator=function(t,e){var n=this._iter.__iterator(bn,e);return new b(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ie(r);var i=o(r);return E(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}})},ie.prototype.cacheResult=re.prototype.cacheResult=oe.prototype.cacheResult=ue.prototype.cacheResult=Ae,t(De,et),De.prototype.toString=function(){return this.__toString(Re(this)+" {","}")},De.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},De.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},De.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Te(this,Et()))},De.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Re(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:Te(this,r)},De.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Te(this,e)},De.prototype.wasAltered=function(){return this._map.wasAltered()},De.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},De.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},De.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Te(this,e,t):(this.__ownerID=t,this._map=e,this)};var Zn=De.prototype;Zn[pn]=Zn.remove,Zn.deleteIn=Zn.removeIn=Fn.removeIn,Zn.merge=Fn.merge,Zn.mergeWith=Fn.mergeWith,Zn.mergeIn=Fn.mergeIn,Zn.mergeDeep=Fn.mergeDeep,Zn.mergeDeepWith=Fn.mergeDeepWith,Zn.mergeDeepIn=Fn.mergeDeepIn,Zn.setIn=Fn.setIn,Zn.update=Fn.update,Zn.updateIn=Fn.updateIn,Zn.withMutations=Fn.withMutations,Zn.asMutable=Fn.asMutable,Zn.asImmutable=Fn.asImmutable,t(Me,rt),Me.of=function(){return this(arguments)},Me.fromKeys=function(t){return this(n(t).keySeq())},Me.prototype.toString=function(){return this.__toString("Set {","}")},Me.prototype.has=function(t){return this._map.has(t)},Me.prototype.add=function(t){return Le(this,this._map.set(t,!0))},Me.prototype.remove=function(t){return Le(this,this._map.remove(t))},Me.prototype.clear=function(){return Le(this,this._map.clear())},Me.prototype.union=function(){var t=an.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Me.prototype.intersect=function(){var t=an.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Me.prototype.subtract=function(){var t=an.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Me.prototype.merge=function(){return this.union.apply(this,arguments)},Me.prototype.mergeWith=function(t){var e=an.call(arguments,1);return this.union.apply(this,e)},Me.prototype.sort=function(t){return Fe(me(this,t))},Me.prototype.sortBy=function(t,e){return Fe(me(this,e,t))},Me.prototype.wasAltered=function(){return this._map.wasAltered()},Me.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Me.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Me.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Me.isSet=Ue;var Qn="@@__IMMUTABLE_SET__@@",tr=Me.prototype;tr[Qn]=!0,tr[pn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Fn.withMutations,tr.asMutable=Fn.asMutable,tr.asImmutable=Fn.asImmutable,tr.__empty=Ne,tr.__make=Ce;var er;t(Fe,Me),Fe.of=function(){return this(arguments)},Fe.fromKeys=function(t){return this(n(t).keySeq())},Fe.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fe.isOrderedSet=Ye;var nr=Fe.prototype;nr[ln]=!0,nr.__empty=Je,nr.__make=Ke;var rr;t(We,nt),We.of=function(){return this(arguments)},We.prototype.toString=function(){return this.__toString("Stack [","]")},We.prototype.get=function(t,e){var n=this._head;for(t=_(this,t);n&&t--;)n=n.next;return n?n.value:e},We.prototype.peek=function(){return this._head&&this._head.value},We.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Ve(t,e)},We.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;ft(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ve(e,n)},We.prototype.pop=function(){return this.slice(1)},We.prototype.unshift=function(){return this.push.apply(this,arguments)},We.prototype.unshiftAll=function(t){return this.pushAll(t)},We.prototype.shift=function(){return this.pop.apply(this,arguments)},We.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ge()},We.prototype.slice=function(t,e){if(d(t,e,this.size))return this;var n=g(t,this.size),r=w(e,this.size);if(r!==this.size)return nt.prototype.slice.call(this,t,e);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Ve(i,o)},We.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ve(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},We.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&t(r.value,n++,this)!==!1;)r=r.next;return n},We.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new b(function(){if(r){var e=r.value;return r=r.next,E(t,n++,e)}return O()})},We.isStack=He;var ir="@@__IMMUTABLE_STACK__@@",or=We.prototype;or[ir]=!0,or.withMutations=Fn.withMutations,or.asMutable=Fn.asMutable,or.asImmutable=Fn.asImmutable,or.wasAltered=Fn.wasAltered;
var ur;e.Iterator=b,$e(e,{toArray:function(){ft(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,(!0))},toMap:function(){return ht(this.toKeyedSeq())},toObject:function(){ft(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Zt(this.toKeyedSeq())},toOrderedSet:function(){return Fe(u(this)?this.valueSeq():this)},toSet:function(){return Me(u(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return s(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return We(u(this)?this.valueSeq():this)},toList:function(){return Lt(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=an.call(arguments,0);return Se(this,ye(this,t))},includes:function(t){return this.some(function(e){return G(e,t)})},entries:function(){return this.__iterator(En)},every:function(t,e){ft(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1}),n},filter:function(t,e){return Se(this,fe(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ft(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(mn)},map:function(t,e){return Se(this,ae(this,t,e))},reduce:function(t,e,n){ft(this.size);var r,i;return arguments.length<2?i=!0:r=e,this.__iterate(function(e,o,u){i?(i=!1,r=e):r=t.call(n,r,e,o,u)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Se(this,ce(this,!0))},slice:function(t,e){return Se(this,pe(this,t,e,!0))},some:function(t,e){return!this.every(Qe(t),e)},sort:function(t){return Se(this,me(this,t))},values:function(){return this.__iterator(bn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return v(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return he(this,t,e)},equals:function(t){return $(this,t)},entrySeq:function(){var t=this;if(t._cache)return new T(t._cache);var e=t.toSeq().map(Ze).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Qe(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(y)},flatMap:function(t,e){return Se(this,ge(this,t,e))},flatten:function(t){return Se(this,de(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find(function(e,n){return G(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,i=ze(t);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,dn):dn,r===dn)return e}return r},groupBy:function(t,e){return le(this,t,e)},has:function(t){return this.get(t,dn)!==dn},hasIn:function(t){return this.getIn(t,dn)!==dn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(e){return G(e,t)})},keySeq:function(){return this.toSeq().map(Xe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return be(this,t)},maxBy:function(t,e){return be(this,e,t)},min:function(t){return be(this,t?tn(t):rn)},minBy:function(t,e){return be(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Se(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Se(this,_e(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Qe(t),e)},sortBy:function(t,e){return Se(this,me(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Se(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Se(this,ve(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Qe(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=e.prototype;sr[cn]=!0,sr[In]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=en,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,$e(n,{flip:function(){return Se(this,se(this))},mapEntries:function(t,e){var n=this,r=0;return Se(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Se(this,this.toSeq().flip().map(function(r,i){return t.call(e,r,i,n)}).flip())}});var ar=n.prototype;ar[fn]=!0,ar[In]=sr.entries,ar.__toJS=sr.toObject,ar.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},$e(r,{toKeyedSeq:function(){return new re(this,(!1))},filter:function(t,e){return Se(this,fe(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Se(this,ce(this,!1))},slice:function(t,e){return Se(this,pe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=g(t,t<0?this.count():this.size);var r=this.slice(0,t);return Se(this,1===n?r:r.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Se(this,de(this,t,!1))},get:function(t,e){return t=_(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return t=_(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Se(this,we(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=Oe(this.toSeq(),z.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Se(this,n)},keySeq:function(){return Q(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Se(this,_e(this,t,e,!1))},zip:function(){var t=[this].concat(p(arguments));return Se(this,Oe(this,nn,t))},zipWith:function(t){var e=p(arguments);return e[0]=this,Se(this,Oe(this,t,e))}}),r.prototype[hn]=!0,r.prototype[ln]=!0,$e(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=sr.includes,i.prototype.contains=i.prototype.includes,$e(P,n.prototype),$e(z,r.prototype),$e(D,i.prototype),$e(et,n.prototype),$e(nt,r.prototype),$e(rt,i.prototype);var cr={Iterable:e,Seq:A,Collection:tt,Map:ht,OrderedMap:Zt,List:Lt,Stack:We,Set:Me,OrderedSet:Fe,Record:De,Range:Q,Repeat:X,is:G,fromJS:J};return cr})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n={comment:t,source:e};return Array.isArray(t)&&(n.comment=null,n.source=t),new l(n)}function s(t,e){var n={comment:t,source:e};return e||(n.comment=null,n.source=t),new p(n)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function v(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:v(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},f=n(2),h=n(35),l=(n(38),function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="passive",o.addFeature("passive"),o._comment=t.comment||"passive array source",o.source=t.source,o.index=0,o}return o(e,t),a(e,[{key:"onNext",value:function(t){this.source.length===this.index?(this.send((new h).setEnd(!0)),this.index++):this.source.length>this.index&&(this.send(new h(this.source[this.index])),this.index++)}},{key:"send",value:function(t){h.isSignal(t)?c(Object.getPrototypeOf(e.prototype),"send",this).call(this,t.setCmd("mode","passive")):c(Object.getPrototypeOf(e.prototype),"send",this).call(this,new h(t,{mode:"passive"}))}}]),e}(f)),p=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o.addFeature("passive"),o._comment=t.comment||"passive array source",o.source=t.source,o.visited=0,o}return o(e,t),a(e,[{key:"onNext",value:function(t){0==this.visited?(this.send(new h(this.source)),this.visited++):1==this.visited&&(this.send((new h).setEnd(!0)),this.visited++)}},{key:"send",value:function(t){h.isSignal(t)?c(Object.getPrototypeOf(e.prototype),"send",this).call(this,t.setCmd("mode","passive")):c(Object.getPrototypeOf(e.prototype),"send",this).call(this,new h(t,{mode:"passive"}))}}]),e}(f);t.exports={asList:u,just:s}},function(t,e,n){"use strict";function r(t,e){return e._node_callbacks||(e._node_callbacks={}),t._to_node_funcs||(t._to_node_funcs={}),e._to_node_observer||(e._to_node_observer=function(t,n,r){if("send"===n){var i=r.getTag("__to_node_dest__");if(!i||i!=e.id)return;var o=e._node_callbacks[r.id];if(!o)return;delete e._node_callbacks[r.id],r.error?o(r.error,r.payload):o(null,r.payload)}},e.observe(e._to_node_observer)),t._to_node_funcs.hasOwnProperty(e.id)?t._to_node_funcs[e.id]:(t._to_node_funcs[e.id]=function(n,r){var i=arguments.length<=2||void 0===arguments[2]||arguments[2],u=n;o.isSignal(u)||(u=new o(n)),u=u.setTag("__to_node_dest__",e.id),e._node_callbacks[u.id]=r,t.push(u,i)},t._to_node_funcs[e.id])}function i(t){var e=t.match(/#{(.*?)}/);return null==e?null:e[1]}var o=n(35);t.exports={prepareNodeOptions:function(t,e,n,r,o){return"function"==typeof t?o?{name:i(o),comment:o,fn:t}:{fn:t}:"function"==typeof e?{name:i(t),comment:t,fn:e}:"function"==typeof n?{name:i(t),comment:t,inputs:e,fn:n}:"function"==typeof r?{name:i(t),comment:t,inputs:e,outputs:n,fn:r}:r?void 0:{name:i(t),comment:t,inputs:e,outputs:n,fn:r,todo:!0}},toNode:r}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){"function"==typeof t&&(e=t,t="sensor");var n={comment:t,fn:e};return n.fn||(n.todo=!0),new c(n)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=(n(38),function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="sensor",o.fn=t.fn||function(t){},o.addFeature("sensor"),o.addFeature("active"),o.watch(),o}return o(e,t),s(e,[{key:"watch",value:function(t){this.fn.call(this,t)}}]),e}(a));t.exports={Sensor:c,sensor:u}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n){return new f({comment:t,name:e,value:n})}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=n(41),f=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="variable",o._value=o.options.value||0==o.options.value?o.options.value:{},o._name=o.options.name,o._comment=o.options.comment||"var '"+o._name+"'",o.addFeature("variable"),o.addFeature("active"),o.inputs={value:"the new value"},o.outputs={type:"always be 'variableChanged'",value:"new value of the variable",before:"old value"},o}return o(e,t),s(e,[{key:"get",value:function(t){return c.get(this._value,t)}},{key:"set",value:function(t,e){if(!t||""===t)return void(this.value=e);var n=c.get(this._value,t);c.set(this._value,t,e),this.send({type:"variableChanged",value:this._value,before:n})}},{key:"onSignal",value:function(t){var e=t.get("value");this.value=e}},{key:"value",get:function(){return this._value},set:function(t){var e=this._value;this._value=t,this.send({type:"variableChanged",value:this._value,before:e})}}]),e}(a);t.exports={Variable:f,variable:u}},function(t,e,n){var r,i,o;!function(n,u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():(i=[],r=u,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o)))}(this,function(){"use strict";function t(t){if(!t)return!0;if(a(t)&&0===t.length)return!0;if("string"!=typeof t){for(var e in t)if(s.call(t,e))return!1;return!0}return!1}function e(t){return u.call(t)}function n(t){return"object"==typeof t&&"[object Object]"===e(t)}function r(t){return"boolean"==typeof t||"[object Boolean]"===e(t)}function i(t){var e=parseInt(t);return e.toString()===t?e:t}function o(e){function o(t,n){if(e.includeInheritedProps||"number"==typeof n&&Array.isArray(t)||s.call(t,n))return t[n]}function u(t,e,n,r){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return u(t,e.split(".").map(i),n,r);var s=e[0],a=o(t,s);return 1===e.length?(void 0!==a&&r||(t[s]=n),a):(void 0===a&&("number"==typeof e[1]?t[s]=[]:t[s]={}),u(t[s],e.slice(1),n,r))}e=e||{};var c=function(t){return Object.keys(c).reduce(function(e,n){return"create"===n?e:("function"==typeof c[n]&&(e[n]=c[n].bind(c,t)),e)},{})};return c.has=function(t,n){if(null==t)return!1;if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!1;for(var r=0;r<n.length;r++){var o=i(n[r]);if(!("number"==typeof o&&a(t)&&o<t.length||(e.includeInheritedProps?o in Object(t):s.call(t,o))))return!1;t=t[o]}return!0},c.ensureExists=function(t,e,n){return u(t,e,n,!0)},c.set=function(t,e,n,r){return u(t,e,n,r)},c.insert=function(t,e,n,r){var i=c.get(t,e);r=~~r,a(i)||(i=[],c.set(t,e,i)),i.splice(r,0,n)},c.empty=function(e,i){if(!t(i)&&null!=e){var o,u;if(o=c.get(e,i)){if("string"==typeof o)return c.set(e,i,"");if(r(o))return c.set(e,i,!1);if("number"==typeof o)return c.set(e,i,0);if(a(o))o.length=0;else{if(!n(o))return c.set(e,i,null);for(u in o)s.call(o,u)&&delete o[u]}}}},c.push=function(t,e){var n=c.get(t,e);a(n)||(n=[],c.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},c.coalesce=function(t,e,n){for(var r,i=0,o=e.length;i<o;i++)if(void 0!==(r=c.get(t,e[i])))return r;return n},c.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return c.get(t,e.split("."),n);var r=i(e[0]),u=o(t,r);return void 0===u?n:1===e.length?u:c.get(t[r],e.slice(1),n)},c.del=function(e,n){if("number"==typeof n&&(n=[n]),null==e)return e;if(t(n))return e;if("string"==typeof n)return c.del(e,n.split("."));var r=i(n[0]),u=o(e,r);if(null==u)return u;if(1===n.length)a(e)?e.splice(r,1):delete e[r];else if(void 0!==e[r])return c.del(e[r],n.slice(1));return e},c}var u=Object.prototype.toString,s=Object.prototype.hasOwnProperty,a=Array.isArray||function(t){return"[object Array]"===u.call(t)},c=o();return c.create=o,c.withInheritedProps=o({includeInheritedProps:!0}),c})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n){return new f({comment:t,name:e,value:n})}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=n(41),f=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="model",o._value=o.options.value||0==o.options.value?o.options.value:{},o._name=o.options.name,o._comment=o.options.comment||"model '"+o._name+"'",o.addFeature("model"),o.addFeature("active"),o.inputs={operation:"one of 'set', 'insert', 'append', and 'delete'",path:"the path to make de operation, empty for root",index:"optional, only need for 'insert'",value:"optional, only need for 'set', 'insert', and 'append'"},o.outputs={type:"always be 'modelChanged'",operation:"the operation that causes the change, one of 'set', 'insert', 'append', and 'delete'",path:"where does the change happen",value:"the value of the model",appended:"the appended value",index:"the position of the newly inserted value",inserted:"the inserted value",before:"old value of the changed part",after:"new value of the changed part"},o}return o(e,t),s(e,[{key:"get",value:function(t){return c.get(this._value,t)}},{key:"set",value:function(t,e,n){if(!t||""===t){var r=this._value;return this._value=e,void(n?this.send(n["new"]({type:"modelChanged",operation:"set",path:null,value:this._value,before:r,after:this._value})):this.send({type:"modelChanged",operation:"set",path:null,value:this._value,before:r,after:this._value}))}var i=c.get(this._value,t);c.set(this._value,t,e),n?this.send(n["new"]({type:"modelChanged",operation:"set",path:t,value:this._value,before:i,after:e})):this.send({type:"modelChanged",operation:"set",path:t,value:this._value,before:i,after:e})}},{key:"insert",value:function(t,e,n,r){var i=c.get(this._value,t);c.insert(this._value,t,e,n),r?this.send(r["new"]({type:"modelChanged",operation:"insert",path:t,index:n,value:this._value,inserted:e,before:i,after:c.get(this._value,t)})):this.send({type:"modelChanged",operation:"insert",path:t,index:n,value:this._value,inserted:e,before:i,after:c.get(this._value,t)})}},{key:"append",value:function(t,e,n){var r=this,i=c.get(this._value,t);Array.isArray(e)?e.forEach(function(e){c.push(r._value,t,e)}):c.push(this._value,t,e),n?this.send(n["new"]({type:"modelChanged",operation:"append",path:t,value:this._value,appended:e,before:i,after:c.get(this._value,t)})):this.send({type:"modelChanged",operation:"append",path:t,value:this._value,appended:e,before:i,after:c.get(this._value,t)})}},{key:"del",value:function(t,e){var n=c.get(this._value,t);c.del(this._value,t),e?this.send(e["new"]({type:"modelChanged",operation:"delete",path:t,value:this._value,before:n,after:null})):this.send({type:"modelChanged",operation:"delete",path:t,value:this._value,before:n,after:null})}},{key:"onSignal",value:function(t){var e=t.get("operation")||"set";if("set"===e){var n=t.get("path");this.set(n,t.get("value"),t)}else if("insert"===e){var n=t.get("path"),r=t.get("index");n&&null!=r&&void 0!=r&&this.insert(n,t.get("value"),r,t)}else if("append"===e){var n=t.get("path");n&&this.append(n,t.get("value"),t)}else if("delete"===e){var n=t.get("path");n&&this.del(n,t)}}},{key:"value",get:function(){return this._value},set:function(t){var e=this._value;this._value=t,this.send({type:"modelChanged",operation:"set",path:null,value:this._value,before:e,after:this._value})}}]),e}(a);t.exports={Model:f,model:u}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r){return new h(c.prepareNodeOptions(t,e,n,r,"filter"))}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=n(38),f=n(44),h=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="filter",o._comment||(o._comment="filter"),o.fn=t.fn||function(t){var e=this.tags.hasOwnProperty("namespace")?this.tags.namespace+".":"",n=f.getFn(e+this.name);return!n||n.call(this,t)},o.addFeature("filter"),o}return o(e,t),s(e,[{key:"accept",value:function(t){return this.fn(t)}},{key:"onSignal",value:function(t){this.accept(t)?this.send(t):this.request()}}]),e}(a);t.exports={Filter:h,filter:u}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){n(this,t),this.registry={}}return r(t,[{key:"register",value:function(t,e,n){return this.registry[t]={type:e,fn:n},this}},{key:"registerActuatorSync",value:function(t,e){return this.register(t,"actuator.sync",e)}},{key:"registerActuatorAsync",value:function(t,e){return this.register(t,"actuator.async",e)}},{key:"registerProcessorSync",value:function(t,e){return this.register(t,"processor.sync",e)}},{key:"registerProcessorAsync",value:function(t,e){return this.register(t,"processor.async",e)}},{key:"registerFilter",value:function(t,e){return this.register(t,"filter",e)}},{key:"remove",value:function(t){this.registry.hasOwnProperty(t)&&delete this.registry[t]}},{key:"clear",value:function(){this.registry={}}},{key:"get",value:function(t){return this.registry.hasOwnProperty(t)?this.registry[t]:null}},{key:"getFn",value:function(t){return this.registry.hasOwnProperty(t)?this.registry[t].fn:null}}]),t}(),o=null;t.exports=null==o?new i:o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r){return new l(f.prepareNodeOptions(t,e,n,r,"actuator"))}function s(t,e,n,r){return new p(f.prepareNodeOptions(t,e,n,r,"actuator"))}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(2),f=n(38),h=n(44),l=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="actuator",o.fn=t.fn||function(t,e){var n=this.tags.hasOwnProperty("namespace")?this.tags.namespace+".":"",r=h.getFn(n+this.name);return r?r.call(this,t,e):void e()},o.addFeature("actuator"),o}return o(e,t),a(e,[{key:"act",value:function(t,e){this.fn.call(this,t,e)}},{key:"onSignal",value:function(t){var e=this;this.act(t,function(n,r){return n?void e.throwError(n,t):void(r||0===r||r===!1||""===r?e.send(t.set("__result__",r)):e.send(t))})}}]),e}(c),p=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="actuator.sync",o.fn=t.fn||function(t){var e=this.tags.hasOwnProperty("namespace")?this.tags.namespace+".":"",n=h.getFn(e+this.name);if(n)return n.call(this,t)},o.addFeature("actuator"),o}return o(e,t),a(e,[{key:"act",value:function(t,e){var n=this.fn.call(this,t);e(null,n)}},{key:"onSignal",value:function(t){var e=this;this.act(t,function(n,r){if(n)throw n;r||0===r||r===!1||""===r?e.send(t.set("__result__",r)):e.send(t)})}}]),e}(c);t.exports={Actuator:l,ActuatorSync:p,actuator:u,actuatorSync:s}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r){return new p(h.prepareNodeOptions(t,e,n,r,"processor"))}function s(t,e,n,r){return new v(h.prepareNodeOptions(t,e,n,r,"processor"))}function a(t,e,n,r){return new v(h.prepareNodeOptions(t,e,n,r,"map"))}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(2),h=n(38),l=n(44),p=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="processor",o.fn=t.fn||function(t,e){var n=this.tags.hasOwnProperty("namespace")?this.tags.namespace+".":"",r=l.getFn(n+this.name);return r?r.call(this,t,e):void e(null,t)},o.addFeature("processor"),o.addFeature("async"),o}return o(e,t),c(e,[{key:"process",value:function(t,e){this.fn.call(this,t,e)}},{key:"onSignal",value:function(t){var e=this;this.process(t,function(n,r){n?e.throwError(n,t):e.send(r)})}}]),e}(f),v=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="processor.sync",o.fn=t.fn||function(t){var e=this.tags.hasOwnProperty("namespace")?this.tags.namespace+".":"",n=l.getFn(e+this.name);return n?n.call(this,t):t},o.addFeature("processor"),o.addFeature("sync"),o}return o(e,t),c(e,[{key:"process",value:function(t,e){var n=this.fn.call(this,t);e(null,n)}},{key:"onSignal",value:function(t){var e=this;this.process(t,function(t,n){if(t)throw t;e.send(n)})}}]),e}(f);t.exports={Processor:p,ProcessorSync:v,processor:u,processorSync:s,map:a}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(){return new c}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="sink",o._comment="drive passive source",o}return o(e,t),s(e,[{key:"onSignal",value:function(t){this.request()}},{key:"from",value:function(t){this.request()}}]),e}(a);t.exports={sink:u}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r){return new f(c.prepareNodeOptions(t,e,n,r,"error handler"))}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=n(38),f=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="errorhandler",o.fn=t.fn||function(t){},o.addFeature("errorhandler"),o}return o(e,t),s(e,[{key:"onError",value:function(t){var e=this;this.fn(t,function(t){e.send(t)})}}]),e}(a);t.exports={errors:u}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,
enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n={};return n="number"==typeof t?{ms:e}:{comment:t,ms:e},new c(n)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=(n(38),function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="throttle",o.ms=t.ms,o._comment=t.comment||"throttle ("+ms+" ms)",o.last=(new Date).getTime(),o.addFeature("filter"),o}return o(e,t),s(e,[{key:"onSignal",value:function(t){var e=(new Date).getTime();e-this.ms>=this.last&&(this.last=e,this.send(t))}}]),e}(a));t.exports={throttle:u}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];"string"!=typeof t&&console.error(new Error("endpoint must have a name")),e.mode="input",e.comment=t;var n=new h(e);return n}function s(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];"string"!=typeof t&&console.error(new Error("endpoint must have a name")),e.mode="output",e.comment=t;var n=new h(e);return n}function a(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];"string"!=typeof t&&console.error(new Error("endpoint must have a name")),e.comment=t;var n=new h(e);return n}var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(2),h=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return t.mode||(t.mode="input"),(!t.mode||"input"!==t.mode&&"output"!==t.mode)&&(console.warn("invalid endpoint mode [",t.mode,"], use 'input' instead"),t.mode="input"),o._type="endpoint."+t.mode,o._name=o._comment,o.addFeature("endpoint"),o.addFeature(t.mode),o}return o(e,t),c(e,[{key:"accept",value:function(t){var e=this.options.filter||[];if(0==e.length)return!0;var n=!1,r=!0,i=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var a=u.value;n=!0;for(var c in a)if(t.get(c)!==a[c]){n=!1;break}if(n)break}}catch(f){i=!0,o=f}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n&&this.invokeObservers("enter endpoint",t),n}},{key:"act",value:function(t,e){e(),this.invokeObservers("leave endpoint",t)}}]),e}(f);t.exports={endpoint:a,input:u,output:s}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n={};n=e?{comment:t,ref:e}:{comment:"go to "+t._comment,ref:t};var r=new c(n);return r}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._ref=t.ref,o._type="reference",o.addFeature("reference"),o.addFeature("actuator"),o}return o(e,t),s(e,[{key:"act",value:function(t,e){this._ref&&this._ref.push(t),e()}}]),e}(a);t.exports={ref:u}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return"string"==typeof t?e.comment=t:e=t,new f(e)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function h(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:h(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=n(2),f=(n(38),function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="node",o.onSignalDelegate=o.options.onSignal,o.onErrorDelegate=o.options.onError,o.onEndDelegate=o.options.onEnd,o.watchDelegate=o.options.watch,o.acceptDelegate=o.options.accept,o.actDelegate=o.options.act,o.processDelegate=o.options.process,o.onNextDelegate=o.options.onNext,o.addFeature("general"),o.addFeature("async"),o}return o(e,t),s(e,[{key:"onSignal",value:function(t){return this.onSignalDelegate?this.onSignalDelegate.call(this,t):a(Object.getPrototypeOf(e.prototype),"onSignal",this).call(this,t)}},{key:"onError",value:function(t){return this.onErrorDelegate?this.onErrorDelegate.call(this,t):a(Object.getPrototypeOf(e.prototype),"onError",this).call(this,t)}},{key:"onEnd",value:function(t){return this.onEndDelegate?this.onEndDelegate.call(this,t):a(Object.getPrototypeOf(e.prototype),"onEnd",this).call(this,t)}},{key:"watch",value:function(t){return this.watchDelegate?this.watchDelegate.call(this,t):a(Object.getPrototypeOf(e.prototype),"watch",this).call(this,t)}},{key:"accept",value:function(t){return this.acceptDelegate?this.acceptDelegate.call(this,t):a(Object.getPrototypeOf(e.prototype),"accept",this).call(this,t)}},{key:"act",value:function(t,n){return this.actDelegate?this.actDelegate.call(this,t,n):a(Object.getPrototypeOf(e.prototype),"act",this).call(this,t,n)}},{key:"process",value:function(t,n){return this.processDelegate?this.processDelegate.call(this,t,n):a(Object.getPrototypeOf(e.prototype),"process",this).call(this,t,n)}}]),e}(c));t.exports={node:u}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n={};return"string"==typeof t?(n.comment=t,n.isEndAtom=e):void 0===t||t===!0?(n.comment="start atom process",n.isEndAtom=!1):(n.comment="end atom process",n.isEndAtom=!0),new c(n)}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),c=(n(38),function(t){function e(t,n){r(this,e);var o=i(this,Object.getPrototypeOf(e).call(this,t,n));return o._type="processor.sync",o.isEndAtom=t.isEndAtom,o.addFeature("atom"),o.addFeature("sync"),o}return o(e,t),s(e,[{key:"process",value:function(t,e){var n=null;n=this.isEndAtom?t.delTag("__non_interruptible__"):t.setTag("__non_interruptible__",!0),e(null,n)}},{key:"onSignal",value:function(t){var e=this;this.process(t,function(t,n){if(t)throw t;e.send(n)})}}]),e}(a));t.exports={atom:u}}]);